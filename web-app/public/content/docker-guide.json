{"id":"docker-guide","title":"ğŸ³ Docker Zero to Hero","content":"# ğŸ³ Docker Zero to Hero - Complete Course\n\nA comprehensive course covering Docker from basics to advanced topics with concise concepts and practical examples.\n\n---\n\n## ğŸ“š Table of Contents\n\n1. [Introduction and Installation](#part-1-introduction-and-installation)\n2. [Docker Images](#part-2-docker-images)\n3. [Containers](#part-3-containers)\n4. [Dockerfile](#part-4-dockerfile)\n5. [Docker Compose](#part-5-docker-compose)\n6. [Networking](#part-6-networking)\n7. [Volumes and Storage](#part-7-volumes-and-storage)\n8. [Registry](#part-8-registry)\n9. [Security](#part-9-security)\n10. [Advanced Topics](#part-10-advanced-topics)\n\n---\n\n## ğŸ¯ Learning Path\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                        BEGINNER                                      â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚\nâ”‚  â”‚ 01. Intro    â”‚â”€â”€â”€â–¶â”‚ 02. Images   â”‚â”€â”€â”€â–¶â”‚ 03. Contain  â”‚          â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                â”‚\n                                â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      INTERMEDIATE                                    â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚\nâ”‚  â”‚ 04. Dockerf  â”‚â”€â”€â”€â–¶â”‚ 05. Compose  â”‚â”€â”€â”€â–¶â”‚ 06. Network  â”‚          â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                                â”‚\n                                â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                        ADVANCED                                      â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚\nâ”‚  â”‚ 07. Volumes  â”‚â”€â”€â”€â–¶â”‚ 08. Registry â”‚â”€â”€â”€â–¶â”‚ 09. Security â”‚          â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚\nâ”‚                                                  â”‚                   â”‚\nâ”‚                                                  â–¼                   â”‚\nâ”‚                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚\nâ”‚                                          â”‚ 10. Advanced â”‚           â”‚\nâ”‚                                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n# Part 1: Introduction and Installation\n\n## What is Docker?\n\nDocker is a platform for developing, shipping, and running applications in containers. Containers package an application with all its dependencies, ensuring consistent behavior across different environments.\n\n## Why Docker?\n\nDocker solves the \"it works on my machine\" problem by providing isolated, reproducible environments. It enables faster deployments, better resource utilization, and simplified DevOps workflows.\n\n### Key Benefits\n\n| Benefit | Description |\n|---------|-------------|\n| **Portability** | Run anywhere Docker is installed |\n| **Consistency** | Same environment from dev to prod |\n| **Isolation** | Applications don't interfere with each other |\n| **Efficiency** | Lighter than VMs, share OS kernel |\n| **Speed** | Start containers in seconds |\n| **Scalability** | Easy to scale horizontally |\n\n## Docker Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                         DOCKER ARCHITECTURE                         â”‚\nâ”‚                                                                     â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚\nâ”‚   â”‚  Docker Client  â”‚          â”‚        Docker Host              â”‚ â”‚\nâ”‚   â”‚                 â”‚          â”‚                                  â”‚ â”‚\nâ”‚   â”‚  docker build   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Docker Daemon (dockerd)        â”‚ â”‚\nâ”‚   â”‚  docker pull    â”‚  REST    â”‚                                  â”‚ â”‚\nâ”‚   â”‚  docker run     â”‚  API     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚\nâ”‚   â”‚                 â”‚          â”‚  â”‚       Containers            â”‚â”‚ â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”   â”‚â”‚ â”‚\nâ”‚                                â”‚  â”‚  â”‚ App â”‚ â”‚ DB  â”‚ â”‚ Web â”‚   â”‚â”‚ â”‚\nâ”‚                                â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜   â”‚â”‚ â”‚\nâ”‚                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚\nâ”‚                                â”‚                                  â”‚ â”‚\nâ”‚                                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚\nâ”‚                                â”‚  â”‚         Images              â”‚â”‚ â”‚\nâ”‚                                â”‚  â”‚  nginx | postgres | node    â”‚â”‚ â”‚\nâ”‚                                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚\nâ”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚\nâ”‚                                           â”‚                        â”‚\nâ”‚                                           â”‚ pull/push              â”‚\nâ”‚                                           â–¼                        â”‚\nâ”‚                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚\nâ”‚                                â”‚   Docker Registry   â”‚             â”‚\nâ”‚                                â”‚   (Docker Hub)      â”‚             â”‚\nâ”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Containers vs Virtual Machines\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                                                                     â”‚\nâ”‚        Virtual Machines                    Containers               â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚\nâ”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚      â”‚\nâ”‚   â”‚ â”‚App Aâ”‚ â”‚App Bâ”‚ â”‚App Câ”‚â”‚    â”‚ â”‚App Aâ”‚ â”‚App Bâ”‚ â”‚App Câ”‚â”‚      â”‚\nâ”‚   â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚    â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚      â”‚\nâ”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚      â”‚\nâ”‚   â”‚ â”‚Bins â”‚ â”‚Bins â”‚ â”‚Bins â”‚â”‚    â”‚ â”‚       Docker        â”‚â”‚      â”‚\nâ”‚   â”‚ â”‚Libs â”‚ â”‚Libs â”‚ â”‚Libs â”‚â”‚    â”‚ â”‚       Engine        â”‚â”‚      â”‚\nâ”‚   â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚      â”‚\nâ”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚      â”‚\nâ”‚   â”‚ â”‚Guestâ”‚ â”‚Guestâ”‚ â”‚Guestâ”‚â”‚    â”‚ â”‚      Host OS        â”‚â”‚      â”‚\nâ”‚   â”‚ â”‚ OS  â”‚ â”‚ OS  â”‚ â”‚ OS  â”‚â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚      â”‚\nâ”‚   â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚      â”‚\nâ”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚ â”‚    Infrastructure   â”‚â”‚      â”‚\nâ”‚   â”‚ â”‚     Hypervisor      â”‚â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚      â”‚\nâ”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚\nâ”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                                     â”‚\nâ”‚   â”‚ â”‚       Host OS       â”‚â”‚         Lightweight                 â”‚\nâ”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚         Fast startup                â”‚\nâ”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚         Share OS kernel             â”‚\nâ”‚   â”‚ â”‚    Infrastructure   â”‚â”‚                                     â”‚\nâ”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚                                     â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚\nâ”‚         Heavy, slow startup                                        â”‚\nâ”‚         Full OS per VM                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n| Feature | Virtual Machines | Containers |\n|---------|-----------------|------------|\n| **Size** | Gigabytes | Megabytes |\n| **Startup** | Minutes | Seconds |\n| **OS** | Full OS per VM | Shared kernel |\n| **Isolation** | Complete | Process-level |\n| **Performance** | Near native | Native |\n\n## Installing Docker\n\n### Ubuntu/Debian\n\n```bash\n# Remove old versions\nsudo apt-get remove docker docker-engine docker.io containerd runc\n\n# Install prerequisites\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg lsb-release\n\n# Add Docker's official GPG key\nsudo mkdir -p /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\n# Set up repository\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n\n# Install Docker Engine\nsudo apt-get update\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\n# Add user to docker group (avoid using sudo)\nsudo usermod -aG docker $USER\nnewgrp docker\n\n# Verify installation\ndocker --version\ndocker run hello-world\n```\n\n### macOS\n\n```bash\n# Download Docker Desktop from docker.com\n# Or use Homebrew\nbrew install --cask docker\n\n# Start Docker Desktop from Applications\n# Verify installation\ndocker --version\ndocker run hello-world\n```\n\n### Windows\n\n1. Enable WSL 2 (Windows Subsystem for Linux)\n2. Download Docker Desktop from docker.com\n3. Run installer and follow prompts\n4. Restart computer\n5. Verify: `docker --version`\n\n## Your First Docker Container\n\n```bash\n# Run hello-world\ndocker run hello-world\n\n# Run nginx web server\ndocker run -d -p 8080:80 nginx\n# Visit http://localhost:8080\n\n# Run interactive Ubuntu\ndocker run -it ubuntu /bin/bash\n```\n\n---\n\n# Part 2: Docker Images\n\n## What are Docker Images?\n\nDocker images are read-only templates containing the application, dependencies, and instructions for creating containers. They're built in layers, where each layer represents a set of changes.\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                        IMAGE LAYERS                                 â”‚\nâ”‚                                                                     â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚   â”‚  Layer 5: Application Code        (Your app)                â”‚  â”‚\nâ”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚\nâ”‚   â”‚  Layer 4: npm install             (Dependencies)            â”‚  â”‚\nâ”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚\nâ”‚   â”‚  Layer 3: Node.js                 (Runtime)                 â”‚  â”‚\nâ”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚\nâ”‚   â”‚  Layer 2: apt-get update/install  (System packages)         â”‚  â”‚\nâ”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚\nâ”‚   â”‚  Layer 1: Ubuntu 22.04            (Base OS)                 â”‚  â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ”‚                                                                     â”‚\nâ”‚   Each layer is cached and reusable across images                  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Working with Images\n\n### Listing Images\n\n```bash\n# List local images\ndocker images\n\n# List with specific format\ndocker images --format \"table {{.Repository}}\\t{{.Tag}}\\t{{.Size}}\"\n\n# List all images (including intermediate)\ndocker images -a\n\n# Filter images\ndocker images --filter \"dangling=true\"\n```\n\n### Pulling Images\n\n```bash\n# Pull latest tag\ndocker pull nginx\n\n# Pull specific tag\ndocker pull nginx:1.24\n\n# Pull from specific registry\ndocker pull gcr.io/google-containers/nginx:latest\n\n# Pull all tags\ndocker pull -a nginx\n```\n\n### Image Tags\n\n```bash\n# Tag an image\ndocker tag nginx:latest myregistry.com/nginx:v1.0\n\n# Tag for Docker Hub\ndocker tag myapp:latest username/myapp:v1.0\n```\n\n### Removing Images\n\n```bash\n# Remove specific image\ndocker rmi nginx:latest\n\n# Remove by image ID\ndocker rmi 605c77e624dd\n\n# Force remove\ndocker rmi -f nginx:latest\n\n# Remove all unused images\ndocker image prune\n\n# Remove all images\ndocker rmi $(docker images -q)\n```\n\n## Image Inspection\n\n```bash\n# Full image details\ndocker inspect nginx:latest\n\n# Get specific field\ndocker inspect --format='{{.Config.Cmd}}' nginx\n\n# View layers\ndocker history nginx:latest\ndocker history --no-trunc nginx:latest\n```\n\n## Building Images\n\n```bash\n# Build from Dockerfile\ndocker build -t myapp:v1.0 .\n\n# Build with different Dockerfile\ndocker build -f Dockerfile.prod -t myapp:prod .\n\n# Build with build arguments\ndocker build --build-arg VERSION=1.0 -t myapp .\n\n# Build without cache\ndocker build --no-cache -t myapp .\n```\n\n---\n\n# Part 3: Containers\n\n## What are Containers?\n\nContainers are runnable instances of Docker images. They provide isolated environments with their own filesystem, networking, and process space, but share the host kernel.\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      IMAGE vs CONTAINER                             â”‚\nâ”‚                                                                     â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚   â”‚      IMAGE          â”‚         â”‚        CONTAINER            â”‚  â”‚\nâ”‚   â”‚  (Read-only)        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   (Read-Write Layer)        â”‚  â”‚\nâ”‚   â”‚                     â”‚  run    â”‚                             â”‚  â”‚\nâ”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚\nâ”‚   â”‚  â”‚ Application   â”‚  â”‚         â”‚  â”‚  Writable Layer      â”‚  â”‚  â”‚\nâ”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚         â”‚  â”‚  (Container Changes) â”‚  â”‚  â”‚\nâ”‚   â”‚  â”‚ Dependencies  â”‚  â”‚         â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚\nâ”‚   â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚         â”‚  â”‚  Image Layers        â”‚  â”‚  â”‚\nâ”‚   â”‚  â”‚ Base OS       â”‚  â”‚         â”‚  â”‚  (Read-only)         â”‚  â”‚  â”‚\nâ”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚\nâ”‚   â”‚                     â”‚         â”‚                             â”‚  â”‚\nâ”‚   â”‚  Template           â”‚         â”‚  Running Instance          â”‚  â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ”‚                                                                     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Running Containers\n\n### Basic Run\n\n```bash\n# Run container (foreground)\ndocker run nginx\n\n# Run detached (background)\ndocker run -d nginx\n\n# Run with name\ndocker run -d --name webserver nginx\n\n# Run interactive\ndocker run -it ubuntu /bin/bash\n\n# Run and auto-remove on exit\ndocker run --rm nginx\n```\n\n### Port Mapping\n\n```bash\n# Map host:container ports\ndocker run -d -p 8080:80 nginx\n\n# Map multiple ports\ndocker run -d -p 8080:80 -p 8443:443 nginx\n\n# Map to specific interface\ndocker run -d -p 127.0.0.1:8080:80 nginx\n\n# Random host port\ndocker run -d -P nginx\n```\n\n### Environment Variables\n\n```bash\n# Set environment variable\ndocker run -d -e MYSQL_ROOT_PASSWORD=secret mysql\n\n# Multiple variables\ndocker run -d \\\n  -e DB_HOST=localhost \\\n  -e DB_PORT=5432 \\\n  myapp\n\n# From file\ndocker run -d --env-file ./env.list myapp\n```\n\n## Container Lifecycle\n\n```bash\n# Start stopped container\ndocker start container_name\n\n# Stop running container\ndocker stop container_name\n\n# Restart container\ndocker restart container_name\n\n# Pause container\ndocker pause container_name\n\n# Unpause container\ndocker unpause container_name\n\n# Kill container (SIGKILL)\ndocker kill container_name\n```\n\n## Container Management\n\n### Listing Containers\n\n```bash\n# Running containers\ndocker ps\n\n# All containers\ndocker ps -a\n\n# Latest container\ndocker ps -l\n\n# Container IDs only\ndocker ps -q\n```\n\n### Removing Containers\n\n```bash\n# Remove stopped container\ndocker rm container_name\n\n# Force remove running container\ndocker rm -f container_name\n\n# Remove all stopped containers\ndocker container prune\n\n# Remove all containers\ndocker rm -f $(docker ps -aq)\n```\n\n## Executing Commands\n\n```bash\n# Execute command in running container\ndocker exec container_name ls -la\n\n# Interactive shell\ndocker exec -it container_name /bin/bash\n\n# Execute as root\ndocker exec -u root container_name whoami\n\n# Execute with environment variable\ndocker exec -e VAR=value container_name printenv\n```\n\n## Container Logs\n\n```bash\n# View logs\ndocker logs container_name\n\n# Follow logs\ndocker logs -f container_name\n\n# Last N lines\ndocker logs --tail 100 container_name\n\n# With timestamps\ndocker logs -t container_name\n\n# Since specific time\ndocker logs --since 2023-01-01 container_name\n```\n\n## Container Stats\n\n```bash\n# Real-time stats\ndocker stats\n\n# Specific container\ndocker stats container_name\n\n# No streaming\ndocker stats --no-stream\n```\n\n---\n\n# Part 4: Dockerfile\n\n## What is a Dockerfile?\n\nA Dockerfile is a text file containing instructions to build a Docker image. Each instruction creates a layer in the image, and Docker caches these layers for faster builds.\n\n## Dockerfile Instructions\n\n| Instruction | Purpose |\n|-------------|---------|\n| `FROM` | Base image to build upon |\n| `WORKDIR` | Set working directory |\n| `COPY` | Copy files from host to image |\n| `ADD` | Copy files (with URL/tar support) |\n| `RUN` | Execute commands during build |\n| `ENV` | Set environment variables |\n| `EXPOSE` | Document exposed ports |\n| `CMD` | Default command to run |\n| `ENTRYPOINT` | Configure container executable |\n| `ARG` | Build-time variables |\n| `VOLUME` | Create mount point |\n| `USER` | Set user for commands |\n| `LABEL` | Add metadata |\n\n## Basic Dockerfile\n\n```dockerfile\n# Base image\nFROM node:18-alpine\n\n# Set working directory\nWORKDIR /app\n\n# Copy package files\nCOPY package*.json ./\n\n# Install dependencies\nRUN npm install\n\n# Copy application code\nCOPY . .\n\n# Expose port\nEXPOSE 3000\n\n# Start application\nCMD [\"npm\", \"start\"]\n```\n\n## Dockerfile Best Practices\n\n### Optimize Layer Caching\n\n```dockerfile\n# Good: Dependencies first, then code\nFROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nCMD [\"npm\", \"start\"]\n\n# Bad: Everything together (cache broken on any change)\nFROM node:18-alpine\nCOPY . /app\nWORKDIR /app\nRUN npm install\nCMD [\"npm\", \"start\"]\n```\n\n### Reduce Image Size\n\n```dockerfile\n# Good: Alpine base + cleanup\nFROM python:3.11-alpine\nRUN apk add --no-cache gcc musl-dev \\\n    && pip install --no-cache-dir package \\\n    && apk del gcc musl-dev\n\n# Good: Specific packages\nRUN apt-get update && apt-get install -y --no-install-recommends \\\n    package1 \\\n    package2 \\\n    && rm -rf /var/lib/apt/lists/*\n```\n\n### Security Practices\n\n```dockerfile\n# Create non-root user\nFROM node:18-alpine\nRUN addgroup -g 1001 appgroup && \\\n    adduser -u 1001 -G appgroup -D appuser\nUSER appuser\nWORKDIR /app\nCOPY --chown=appuser:appgroup . .\n```\n\n## Multi-Stage Builds\n\nMulti-stage builds create smaller, more secure images by separating build and runtime environments.\n\n```dockerfile\n# Stage 1: Build\nFROM node:18 AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nRUN npm run build\n\n# Stage 2: Production\nFROM node:18-alpine AS production\nWORKDIR /app\nCOPY --from=builder /app/dist ./dist\nCOPY --from=builder /app/package*.json ./\nRUN npm ci --only=production\nEXPOSE 3000\nUSER node\nCMD [\"node\", \"dist/index.js\"]\n```\n\n## Building Images\n\n```bash\n# Build image\ndocker build -t myapp:v1 .\n\n# Build with build args\ndocker build --build-arg NODE_ENV=production -t myapp:prod .\n\n# Build from specific Dockerfile\ndocker build -f Dockerfile.prod -t myapp:prod .\n\n# Build without cache\ndocker build --no-cache -t myapp:v1 .\n\n# Build with target stage\ndocker build --target builder -t myapp:builder .\n```\n\n---\n\n# Part 5: Docker Compose\n\n## What is Docker Compose?\n\nDocker Compose is a tool for defining and running multi-container applications. It uses a YAML file to configure services, networks, and volumes.\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      DOCKER COMPOSE                                 â”‚\nâ”‚                                                                     â”‚\nâ”‚   docker-compose.yml                                               â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚\nâ”‚   â”‚                                                              â”‚ â”‚\nâ”‚   â”‚  services:                                                   â”‚ â”‚\nâ”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚\nâ”‚   â”‚    â”‚   web       â”‚  â”‚    api      â”‚  â”‚     db      â”‚       â”‚ â”‚\nâ”‚   â”‚    â”‚  (nginx)    â”‚â”€â”€â”‚  (node)     â”‚â”€â”€â”‚  (postgres) â”‚       â”‚ â”‚\nâ”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚\nâ”‚   â”‚          â”‚                â”‚                â”‚                â”‚ â”‚\nâ”‚   â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚\nâ”‚   â”‚                           â”‚                                  â”‚ â”‚\nâ”‚   â”‚  networks:               â”‚                                  â”‚ â”‚\nâ”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚\nâ”‚   â”‚    â”‚              app-network                     â”‚         â”‚ â”‚\nâ”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚\nâ”‚   â”‚                                                              â”‚ â”‚\nâ”‚   â”‚  volumes:                                                    â”‚ â”‚\nâ”‚   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚ â”‚\nâ”‚   â”‚    â”‚  db-data   â”‚  â”‚  uploads   â”‚                          â”‚ â”‚\nâ”‚   â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚ â”‚\nâ”‚   â”‚                                                              â”‚ â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Basic docker-compose.yml\n\n```yaml\nversion: '3.8'\n\nservices:\n  web:\n    image: nginx:alpine\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./html:/usr/share/nginx/html\n    depends_on:\n      - api\n\n  api:\n    build: ./api\n    ports:\n      - \"3000:3000\"\n    environment:\n      - DB_HOST=db\n      - DB_PORT=5432\n    depends_on:\n      - db\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: myapp\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - db-data:/var/lib/postgresql/data\n\nvolumes:\n  db-data:\n```\n\n## Compose Commands\n\n```bash\n# Start services\ndocker compose up\n\n# Start in background\ndocker compose up -d\n\n# Build and start\ndocker compose up --build\n\n# Stop services\ndocker compose down\n\n# Stop and remove volumes\ndocker compose down -v\n\n# View logs\ndocker compose logs -f\n\n# List containers\ndocker compose ps\n\n# Execute command in service\ndocker compose exec api npm test\n\n# Scale service\ndocker compose up -d --scale api=3\n```\n\n## Complete Application Example\n\n```yaml\nversion: '3.8'\n\nservices:\n  frontend:\n    build:\n      context: ./frontend\n      dockerfile: Dockerfile\n    ports:\n      - \"3000:3000\"\n    environment:\n      - REACT_APP_API_URL=http://localhost:8000\n    depends_on:\n      - backend\n\n  backend:\n    build:\n      context: ./backend\n      dockerfile: Dockerfile\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      db:\n        condition: service_healthy\n      redis:\n        condition: service_started\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15-alpine\n    environment:\n      POSTGRES_DB: myapp\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U user -d myapp\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis-data:/data\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro\n    depends_on:\n      - frontend\n      - backend\n\nvolumes:\n  postgres-data:\n  redis-data:\n\nnetworks:\n  default:\n    name: myapp-network\n```\n\n---\n\n# Part 6: Networking\n\n## Docker Network Types\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                     DOCKER NETWORK DRIVERS                          â”‚\nâ”‚                                                                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚                        BRIDGE                                â”‚   â”‚\nâ”‚  â”‚  Default network for containers on single host               â”‚   â”‚\nâ”‚  â”‚  Containers can communicate via container name               â”‚   â”‚\nâ”‚  â”‚                                                              â”‚   â”‚\nâ”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”                         â”‚   â”‚\nâ”‚  â”‚  â”‚ App A â”‚â”€â”€â”€â”‚Bridge â”‚â”€â”€â”€â”‚ App B â”‚                         â”‚   â”‚\nâ”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚Networkâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚   â”‚\nâ”‚  â”‚              â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                      â”‚   â”‚\nâ”‚  â”‚                  â”‚ NAT                                      â”‚   â”‚\nâ”‚  â”‚              â”Œâ”€â”€â”€â–¼â”€â”€â”€â”                                      â”‚   â”‚\nâ”‚  â”‚              â”‚ Host  â”‚                                      â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â””â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚                        HOST                                  â”‚   â”‚\nâ”‚  â”‚  Container uses host's network directly                      â”‚   â”‚\nâ”‚  â”‚  No network isolation, best performance                      â”‚   â”‚\nâ”‚  â”‚                                                              â”‚   â”‚\nâ”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”                                                  â”‚   â”‚\nâ”‚  â”‚  â”‚ App   â”‚ â†’ Uses host's IP:PORT directly                   â”‚   â”‚\nâ”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜                                                  â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚                       OVERLAY                                â”‚   â”‚\nâ”‚  â”‚  Multi-host networking for Docker Swarm                      â”‚   â”‚\nâ”‚  â”‚  Containers across hosts can communicate                     â”‚   â”‚\nâ”‚  â”‚                                                              â”‚   â”‚\nâ”‚  â”‚  Host A           Host B           Host C                   â”‚   â”‚\nâ”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”                 â”‚   â”‚\nâ”‚  â”‚  â”‚App 1â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚App 2â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚App 3â”‚                 â”‚   â”‚\nâ”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”˜                 â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                                     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n| Driver | Use Case |\n|--------|----------|\n| **bridge** | Default, isolated network on single host |\n| **host** | No isolation, use host's network directly |\n| **overlay** | Multi-host networking (Swarm) |\n| **macvlan** | Assign MAC address, appear as physical device |\n| **none** | Disable networking |\n\n## Network Commands\n\n```bash\n# List networks\ndocker network ls\n\n# Create network\ndocker network create mynetwork\n\n# Create with driver\ndocker network create --driver bridge --subnet 172.20.0.0/16 mynetwork\n\n# Inspect network\ndocker network inspect mynetwork\n\n# Connect container to network\ndocker network connect mynetwork container_name\n\n# Disconnect\ndocker network disconnect mynetwork container_name\n\n# Remove network\ndocker network rm mynetwork\n\n# Prune unused networks\ndocker network prune\n```\n\n## Container Communication\n\n### Using Bridge Network\n\n```bash\n# Create network\ndocker network create app-network\n\n# Run containers on same network\ndocker run -d --name api --network app-network myapi\ndocker run -d --name web --network app-network nginx\n\n# Containers can reach each other by name\ndocker exec web ping api\ndocker exec web curl http://api:3000\n```\n\n### Docker Compose Networking\n\n```yaml\nversion: '3.8'\n\nservices:\n  frontend:\n    build: ./frontend\n    networks:\n      - frontend-net\n      - backend-net\n\n  api:\n    build: ./api\n    networks:\n      - backend-net\n\n  db:\n    image: postgres\n    networks:\n      - backend-net\n\nnetworks:\n  frontend-net:\n  backend-net:\n    internal: true  # No external access\n```\n\n---\n\n# Part 7: Volumes and Storage\n\n## Docker Storage Types\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      DOCKER STORAGE TYPES                           â”‚\nâ”‚                                                                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚\nâ”‚  â”‚                    NAMED VOLUMES                               â”‚â”‚\nâ”‚  â”‚  Managed by Docker, persistent, recommended for production     â”‚â”‚\nâ”‚  â”‚                                                                â”‚â”‚\nâ”‚  â”‚  docker run -v myvolume:/app/data myapp                        â”‚â”‚\nâ”‚  â”‚                                                                â”‚â”‚\nâ”‚  â”‚  Host: /var/lib/docker/volumes/myvolume/_data                  â”‚â”‚\nâ”‚  â”‚                          â”‚                                     â”‚â”‚\nâ”‚  â”‚                          â–¼                                     â”‚â”‚\nâ”‚  â”‚  Container:          /app/data                                 â”‚â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚\nâ”‚                                                                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚\nâ”‚  â”‚                    BIND MOUNTS                                 â”‚â”‚\nâ”‚  â”‚  Direct mapping from host to container, good for development   â”‚â”‚\nâ”‚  â”‚                                                                â”‚â”‚\nâ”‚  â”‚  docker run -v /host/path:/container/path myapp                â”‚â”‚\nâ”‚  â”‚                                                                â”‚â”‚\nâ”‚  â”‚  Host:      /home/user/project                                 â”‚â”‚\nâ”‚  â”‚                    â”‚                                           â”‚â”‚\nâ”‚  â”‚                    â–¼                                           â”‚â”‚\nâ”‚  â”‚  Container:     /app                                           â”‚â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚\nâ”‚                                                                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚\nâ”‚  â”‚                    TMPFS MOUNTS                                â”‚â”‚\nâ”‚  â”‚  Stored in memory, not persisted, good for sensitive data      â”‚â”‚\nâ”‚  â”‚                                                                â”‚â”‚\nâ”‚  â”‚  docker run --tmpfs /app/temp myapp                            â”‚â”‚\nâ”‚  â”‚                                                                â”‚â”‚\nâ”‚  â”‚  Memory â”€â”€â–¶ /app/temp                                          â”‚â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚\nâ”‚                                                                     â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Volume Commands\n\n```bash\n# List volumes\ndocker volume ls\n\n# Create volume\ndocker volume create myvolume\n\n# Inspect volume\ndocker volume inspect myvolume\n\n# Remove volume\ndocker volume rm myvolume\n\n# Remove unused volumes\ndocker volume prune\n```\n\n## Using Volumes\n\n### Named Volumes\n\n```bash\n# Create and use named volume\ndocker run -d \\\n  --name db \\\n  -v postgres-data:/var/lib/postgresql/data \\\n  postgres\n\n# Volume syntax\ndocker run -v volume_name:/container/path image\n```\n\n### Bind Mounts\n\n```bash\n# Mount current directory\ndocker run -d \\\n  -v $(pwd):/app \\\n  -w /app \\\n  node:18 npm start\n\n# Mount specific path\ndocker run -d \\\n  -v /host/config:/etc/app/config:ro \\\n  myapp\n\n# Read-only mount\ndocker run -v /data:/data:ro myapp\n```\n\n### tmpfs Mounts\n\n```bash\n# Memory-only mount\ndocker run -d \\\n  --tmpfs /app/temp:rw,size=100m \\\n  myapp\n```\n\n## Docker Compose Volumes\n\n```yaml\nversion: '3.8'\n\nservices:\n  db:\n    image: postgres:15\n    volumes:\n      - db-data:/var/lib/postgresql/data        # Named volume\n      - ./init.sql:/docker-entrypoint-initdb.d/init.sql:ro  # Bind mount\n\n  app:\n    build: .\n    volumes:\n      - .:/app                                   # Bind mount (development)\n      - node_modules:/app/node_modules          # Named volume (exclude)\n      - /app/temp                               # Anonymous volume\n\nvolumes:\n  db-data:\n    driver: local\n  node_modules:\n```\n\n---\n\n# Part 8: Registry\n\n## What is Docker Registry?\n\nA Docker Registry is a storage and distribution system for Docker images. Docker Hub is the default public registry, but you can use private registries for proprietary images.\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                      REGISTRY FLOW                                  â”‚\nâ”‚                                                                     â”‚\nâ”‚   Developer                  Registry                Production    â”‚\nâ”‚   Machine                                            Server         â”‚\nâ”‚                                                                     â”‚\nâ”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   docker push   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   docker pull          â”‚\nâ”‚   â”‚  Build  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Docker   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚\nâ”‚   â”‚  Image  â”‚                 â”‚  Registry â”‚                  â”‚    â”‚\nâ”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚           â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚\nâ”‚                               â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚            â”‚  Run    â”‚ â”‚\nâ”‚                               â”‚ â”‚ myapp â”‚ â”‚            â”‚  Image  â”‚ â”‚\nâ”‚                               â”‚ â”‚ :v1.0 â”‚ â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚\nâ”‚                               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                        â”‚\nâ”‚                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## Docker Hub\n\n### Login and Push\n\n```bash\n# Login to Docker Hub\ndocker login\n\n# Tag for Docker Hub\ndocker tag myapp:v1.0 username/myapp:v1.0\n\n# Push to Docker Hub\ndocker push username/myapp:v1.0\n\n# Pull from Docker Hub\ndocker pull username/myapp:v1.0\n```\n\n### Public vs Private\n\n```bash\n# Public image (anyone can pull)\ndocker push username/public-app:v1.0\n\n# Private image (requires auth)\ndocker push username/private-app:v1.0\n```\n\n## Private Registry\n\n### Run Local Registry\n\n```bash\n# Start registry container\ndocker run -d -p 5000:5000 --name registry registry:2\n\n# Tag for local registry\ndocker tag myapp:v1.0 localhost:5000/myapp:v1.0\n\n# Push to local registry\ndocker push localhost:5000/myapp:v1.0\n\n# Pull from local registry\ndocker pull localhost:5000/myapp:v1.0\n```\n\n### Registry with Docker Compose\n\n```yaml\nversion: '3.8'\n\nservices:\n  registry:\n    image: registry:2\n    ports:\n      - \"5000:5000\"\n    volumes:\n      - registry-data:/var/lib/registry\n    environment:\n      REGISTRY_STORAGE_DELETE_ENABLED: \"true\"\n\nvolumes:\n  registry-data:\n```\n\n## Cloud Registries\n\n### AWS ECR\n\n```bash\n# Get login token\naws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 123456789.dkr.ecr.us-east-1.amazonaws.com\n\n# Tag and push\ndocker tag myapp:v1.0 123456789.dkr.ecr.us-east-1.amazonaws.com/myapp:v1.0\ndocker push 123456789.dkr.ecr.us-east-1.amazonaws.com/myapp:v1.0\n```\n\n### Google Container Registry\n\n```bash\n# Configure Docker for GCR\ngcloud auth configure-docker\n\n# Tag and push\ndocker tag myapp:v1.0 gcr.io/my-project/myapp:v1.0\ndocker push gcr.io/my-project/myapp:v1.0\n```\n\n### Azure Container Registry\n\n```bash\n# Login to ACR\naz acr login --name myregistry\n\n# Tag and push\ndocker tag myapp:v1.0 myregistry.azurecr.io/myapp:v1.0\ndocker push myregistry.azurecr.io/myapp:v1.0\n```\n\n---\n\n# Part 9: Security\n\n## Image Security\n\n### Scan Images\n\n```bash\n# Scan with Docker Scout (Docker Desktop)\ndocker scout quickview nginx:latest\n\n# Scan with Docker Scout CVEs\ndocker scout cves nginx:latest\n\n# Scan with Trivy\ntrivy image nginx:latest\n\n# Scan with Snyk\nsnyk container test nginx:latest\n```\n\n### Use Minimal Base Images\n\n```dockerfile\n# Good: Alpine-based (small attack surface)\nFROM node:18-alpine\n\n# Good: Distroless (no shell, minimal)\nFROM gcr.io/distroless/nodejs18-debian11\n\n# Good: Scratch (empty, for Go binaries)\nFROM scratch\nCOPY myapp /myapp\nENTRYPOINT [\"/myapp\"]\n```\n\n## Runtime Security\n\n### Run as Non-Root\n\n```dockerfile\nFROM node:18-alpine\n\n# Create non-root user\nRUN addgroup -g 1001 appgroup && \\\n    adduser -u 1001 -G appgroup -D appuser\n\n# Change ownership\nCOPY --chown=appuser:appgroup . /app\n\n# Switch to non-root user\nUSER appuser\n\nWORKDIR /app\nCMD [\"node\", \"server.js\"]\n```\n\n### Drop Capabilities\n\n```bash\n# Run with no capabilities\ndocker run --cap-drop=ALL myapp\n\n# Add only required capabilities\ndocker run --cap-drop=ALL --cap-add=NET_BIND_SERVICE myapp\n```\n\n### Read-Only Filesystem\n\n```bash\n# Read-only root filesystem\ndocker run --read-only \\\n  --tmpfs /tmp \\\n  --tmpfs /var/run \\\n  myapp\n```\n\n### Resource Limits\n\n```bash\n# Limit memory\ndocker run -m 512m --memory-swap 512m myapp\n\n# Limit CPU\ndocker run --cpus=\".5\" myapp\n\n# Combined\ndocker run -m 512m --cpus=\"1\" myapp\n```\n\n## Security Best Practices Checklist\n\n| Category | Best Practice |\n|----------|--------------|\n| **Images** | Use official/verified images |\n| **Images** | Keep images updated |\n| **Images** | Scan for vulnerabilities |\n| **Images** | Use minimal base images |\n| **Runtime** | Run as non-root |\n| **Runtime** | Drop all capabilities |\n| **Runtime** | Use read-only filesystem |\n| **Runtime** | Limit resources |\n| **Network** | Use user-defined networks |\n| **Secrets** | Use Docker secrets/external managers |\n\n---\n\n# Part 10: Advanced Topics\n\n## Multi-Stage Builds\n\n### Go Application\n\n```dockerfile\n# Build stage\nFROM golang:1.21-alpine AS builder\nWORKDIR /app\nCOPY go.mod go.sum ./\nRUN go mod download\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux go build -o main .\n\n# Production stage\nFROM scratch\nCOPY --from=builder /app/main /main\nENTRYPOINT [\"/main\"]\n```\n\n### Node.js Application\n\n```dockerfile\n# Dependencies stage\nFROM node:18-alpine AS deps\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci --only=production\n\n# Build stage\nFROM node:18-alpine AS builder\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci\nCOPY . .\nRUN npm run build\n\n# Production stage\nFROM node:18-alpine AS production\nWORKDIR /app\nENV NODE_ENV=production\nCOPY --from=deps /app/node_modules ./node_modules\nCOPY --from=builder /app/dist ./dist\nUSER node\nEXPOSE 3000\nCMD [\"node\", \"dist/index.js\"]\n```\n\n## Docker Buildx\n\nBuildx is Docker's extended build capabilities, supporting multi-platform builds.\n\n```bash\n# Create builder\ndocker buildx create --name mybuilder --use\n\n# Build for multiple platforms\ndocker buildx build \\\n  --platform linux/amd64,linux/arm64 \\\n  -t username/myapp:latest \\\n  --push .\n\n# Build with cache\ndocker buildx build \\\n  --cache-from type=registry,ref=username/myapp:cache \\\n  --cache-to type=registry,ref=username/myapp:cache,mode=max \\\n  -t username/myapp:latest \\\n  --push .\n```\n\n## CI/CD Integration\n\n### GitHub Actions\n\n```yaml\nname: Build and Push Docker Image\n\non:\n  push:\n    branches: [main]\n    tags: ['v*']\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Set up Docker Buildx\n        uses: docker/setup-buildx-action@v3\n\n      - name: Login to Docker Hub\n        uses: docker/login-action@v3\n        with:\n          username: ${{ secrets.DOCKERHUB_USERNAME }}\n          password: ${{ secrets.DOCKERHUB_TOKEN }}\n\n      - name: Build and push\n        uses: docker/build-push-action@v5\n        with:\n          context: .\n          push: true\n          tags: |\n            username/myapp:latest\n            username/myapp:${{ github.sha }}\n          cache-from: type=gha\n          cache-to: type=gha,mode=max\n```\n\n### GitLab CI\n\n```yaml\nstages:\n  - build\n  - push\n\nvariables:\n  IMAGE_NAME: $CI_REGISTRY_IMAGE\n\nbuild:\n  stage: build\n  image: docker:24\n  services:\n    - docker:24-dind\n  script:\n    - docker build -t $IMAGE_NAME:$CI_COMMIT_SHA .\n    - docker tag $IMAGE_NAME:$CI_COMMIT_SHA $IMAGE_NAME:latest\n\npush:\n  stage: push\n  image: docker:24\n  services:\n    - docker:24-dind\n  script:\n    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY\n    - docker push $IMAGE_NAME:$CI_COMMIT_SHA\n    - docker push $IMAGE_NAME:latest\n  only:\n    - main\n```\n\n## Troubleshooting\n\n### Common Issues and Solutions\n\n| Problem | Check | Solution |\n|---------|-------|----------|\n| Container won't start | `docker logs container` | Fix application errors |\n| Port already in use | `lsof -i :port` | Use different port or stop conflicting service |\n| Permission denied | File ownership | Check user/group permissions |\n| Out of disk space | `docker system df` | `docker system prune -a` |\n| Image pull fails | Network/registry | Check registry access, credentials |\n| Container keeps restarting | `docker logs` | Fix application, check health checks |\n\n### Debugging Commands\n\n```bash\n# Container logs\ndocker logs container_name\ndocker logs -f --tail 100 container_name\n\n# Container processes\ndocker top container_name\n\n# Container resource usage\ndocker stats container_name\n\n# Execute shell in container\ndocker exec -it container_name /bin/sh\n\n# Inspect container\ndocker inspect container_name\n\n# Docker events\ndocker events\n\n# System-wide info\ndocker system df\ndocker system info\n```\n\n### Cleanup Commands\n\n```bash\n# Remove unused data\ndocker system prune\n\n# Remove all unused data (including volumes)\ndocker system prune -a --volumes\n\n# Remove specific resources\ndocker container prune\ndocker image prune\ndocker network prune\ndocker volume prune\n```\n\n---\n\n## ğŸ‰ Congratulations!\n\nYou've completed the Docker Zero to Hero course! You now have the knowledge to:\n\n- âœ… Install and configure Docker\n- âœ… Work with images and containers\n- âœ… Write efficient Dockerfiles\n- âœ… Orchestrate multi-container apps with Compose\n- âœ… Configure networking and storage\n- âœ… Use registries for image distribution\n- âœ… Implement security best practices\n- âœ… Set up CI/CD pipelines\n\n---\n\n## ğŸ“š Additional Resources\n\n- [Official Docker Documentation](https://docs.docker.com/)\n- [Docker Hub](https://hub.docker.com/)\n- [Docker GitHub](https://github.com/docker)\n- [Play with Docker](https://labs.play-with-docker.com/)\n- [Docker Best Practices](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/)\n\n---\n\n**Happy Containerizing! ğŸ³**\n\n"}