{"id":"rest-api","title":"ðŸŒ REST API Development Zero to Hero","content":"# REST API Development: Zero to Hero Guide\n## Complete API Design, Development & Security Mastery\n\n---\n\n## ðŸ“š Table of Contents\n\n1. [Introduction to APIs](#introduction)\n2. [Why Learn REST APIs?](#why-learn)\n3. [HTTP Fundamentals](#http-fundamentals)\n4. [REST Principles](#rest-principles)\n5. [API Design Best Practices](#api-design)\n6. [Building Your First API](#first-api)\n7. [Request & Response Formats](#formats)\n8. [Authentication & Authorization](#authentication)\n9. [Error Handling](#error-handling)\n10. [Versioning Strategies](#versioning)\n11. [API Security](#security)\n12. [Testing APIs](#testing)\n13. [Documentation](#documentation)\n14. [Performance & Optimization](#performance)\n15. [Rate Limiting & Throttling](#rate-limiting)\n16. [API Frameworks](#frameworks)\n17. [Microservices & APIs](#microservices)\n18. [Real-World Projects](#projects)\n19. [Interview Preparation](#interview-prep)\n20. [Visual Diagram Index](#visual-index)\n\n---\n\n## ðŸŽ¯ Introduction to APIs {#introduction}\n\n### What is an API?\n\n```\nAPI = Application Programming Interface\n    = How software talks to software\n\nReal-World Analogy:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Restaurant                      â”‚\nâ”‚                                  â”‚\nâ”‚  You (Client) â†â†’ Waiter (API)   â”‚\nâ”‚                    â†“             â”‚\nâ”‚                  Kitchen (Server)â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nYou don't go to the kitchen directly.\nThe waiter (API) takes your order and brings food.\n\nSoftware Example:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Weather App                     â”‚\nâ”‚                                  â”‚\nâ”‚  Your Phone â†â†’ Weather API       â”‚\nâ”‚                    â†“             â”‚\nâ”‚                  Weather Server  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nYour phone requests weather data via API.\n```\n\n### What is REST?\n\n```\nREST = REpresentational State Transfer\n\nKey Principles:\n1. Client-Server separation\n2. Stateless (no session on server)\n3. Cacheable responses\n4. Uniform interface (standard methods)\n5. Layered system\n\nREST API Uses HTTP:\nGET    /users      â† Get list of users\nPOST   /users      â† Create new user\nGET    /users/123  â† Get user #123\nPUT    /users/123  â† Update user #123\nDELETE /users/123  â† Delete user #123\n```\n\n---\n\n## ðŸ’¡ Why Learn REST APIs? {#why-learn}\n\n### Career Benefits:\n\nâœ… **Essential Skill** - Every modern app uses APIs  \nâœ… **High Demand** - Backend, Full-stack, Mobile dev  \nâœ… **Integration** - Connect any systems together  \nâœ… **Microservices** - Modern architecture standard  \nâœ… **Higher Pay** - API developers earn 15-20% more  \nâœ… **Future-Proof** - APIs are here to stay  \n\n### Real-World Usage:\n\n| Company | API Usage |\n|---------|-----------|\n| **Twitter** | 13 billion API calls/day |\n| **Google Maps** | 1 billion requests/day |\n| **Stripe** | Payment APIs for millions |\n| **Twilio** | SMS/Voice APIs |\n| **Every Startup** | APIs for everything! |\n\n### API Economy:\n\n```\nCompanies make money from APIs!\n\nStripe API: $95B valuation\nTwilio API: $10B+ revenue\nAWS APIs: Billions in revenue\nGoogle Cloud APIs: $26B+ revenue\n\nYour API skills = ðŸ’°\n```\n\n---\n\n## ðŸŒ HTTP Fundamentals {#http-fundamentals}\n\n### HTTP Request Structure:\n\n```http\nPOST /api/users HTTP/1.1\nHost: api.example.com\nContent-Type: application/json\nAuthorization: Bearer abc123token\nUser-Agent: MyApp/1.0\n\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\"\n}\n\nStructure:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Request Line                â”‚ â† Method, Path, Protocol\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Headers                     â”‚ â† Metadata\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Body                        â”‚ â† Data (optional)\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### HTTP Response Structure:\n\n```http\nHTTP/1.1 201 Created\nContent-Type: application/json\nLocation: /api/users/123\nX-RateLimit-Remaining: 99\n\n{\n  \"id\": 123,\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"created_at\": \"2024-01-15T10:30:00Z\"\n}\n\nStructure:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Status Line                 â”‚ â† Protocol, Status Code\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Headers                     â”‚ â† Metadata\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Body                        â”‚ â† Data\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### HTTP Methods (Verbs):\n\n```\nGET    - Retrieve data (safe, idempotent)\nPOST   - Create new resource\nPUT    - Update entire resource (idempotent)\nPATCH  - Partial update\nDELETE - Remove resource (idempotent)\nHEAD   - Like GET but no body\nOPTIONS - Check allowed methods\n\nIdempotent = Same result if called multiple times\n\nExamples:\nGET /users          â† List all users\nGET /users/123      â† Get one user\nPOST /users         â† Create user\nPUT /users/123      â† Replace user\nPATCH /users/123    â† Update fields\nDELETE /users/123   â† Delete user\n```\n\n### HTTP Status Codes:\n\n```\n1xx: Informational\n100 Continue        - Server received headers\n\n2xx: Success\n200 OK              - Request succeeded\n201 Created         - Resource created\n202 Accepted        - Async processing started\n204 No Content      - Success, no response body\n\n3xx: Redirection\n301 Moved Permanently\n302 Found (Temporary)\n304 Not Modified    - Use cached version\n\n4xx: Client Errors\n400 Bad Request     - Invalid syntax\n401 Unauthorized    - Authentication required\n403 Forbidden       - No permission\n404 Not Found       - Resource doesn't exist\n409 Conflict        - Duplicate resource\n422 Unprocessable   - Validation failed\n429 Too Many Requests - Rate limit exceeded\n\n5xx: Server Errors\n500 Internal Server Error - Server crashed\n502 Bad Gateway     - Upstream server error\n503 Service Unavailable - Server overloaded\n504 Gateway Timeout - Upstream timeout\n\nVisual Guide:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 2xx = âœ… Success            â”‚\nâ”‚ 4xx = âŒ You messed up      â”‚\nâ”‚ 5xx = ðŸ’¥ Server messed up   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Common Headers:\n\n```\nRequest Headers:\nContent-Type: application/json     â† Body format\nAccept: application/json            â† Expected response format\nAuthorization: Bearer token         â† Authentication\nUser-Agent: Mozilla/5.0             â† Client info\nAccept-Language: en-US              â† Preferred language\nIf-None-Match: \"abc123\"             â† Caching (ETag)\n\nResponse Headers:\nContent-Type: application/json     â† Response format\nContent-Length: 1234                â† Body size in bytes\nCache-Control: max-age=3600         â† Caching rules\nETag: \"abc123\"                      â† Resource version\nLocation: /api/users/123            â† Created resource URL\nX-RateLimit-Limit: 100              â† Rate limit\nX-RateLimit-Remaining: 95           â† Remaining requests\nX-RateLimit-Reset: 1610000000       â† Reset timestamp\n```\n\n---\n\n## ðŸ—ï¸ REST Principles {#rest-principles}\n\n### 6 REST Constraints:\n\n```\n1. Client-Server Architecture\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Client  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Server  â”‚\nâ”‚  (UI)    â”‚          â”‚  (Data)  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nSeparation of concerns\n\n2. Stateless\nEach request contains ALL info needed.\nServer doesn't store session.\n\nBad (Stateful):\nRequest 1: Login user\nRequest 2: Get profile (server remembers login)\n\nGood (Stateless):\nRequest 1: Get profile + auth token\nRequest 2: Get orders + auth token\n\n3. Cacheable\nResponses must indicate if cacheable.\n\nCache-Control: max-age=3600\nCache-Control: no-cache\n\n4. Uniform Interface\n- Resource identification (URIs)\n- Resource manipulation through representations\n- Self-descriptive messages\n- HATEOAS (links in responses)\n\n5. Layered System\nClient can't tell if connected to end server or intermediary.\nAllows load balancers, proxies, caches.\n\n6. Code on Demand (Optional)\nServer can send executable code (JavaScript).\n```\n\n### Resource Naming Conventions:\n\n```\nâœ… Good Resource Names:\nGET    /users              â† Collection\nGET    /users/123          â† Specific resource\nGET    /users/123/orders   â† Nested resource\nGET    /orders?status=pending&sort=date  â† Query params\n\nâŒ Bad Resource Names:\nGET    /getUsers           â† Don't use verbs\nGET    /user/123           â† Singular for collection\nGET    /users/123/getOrders â† Redundant verb\nPOST   /users/create       â† POST implies create\n\nRules:\n1. Use nouns, not verbs\n2. Use plural for collections (/users not /user)\n3. Use kebab-case (/user-profiles not /userProfiles)\n4. Nest resources logically\n5. Use query params for filtering/sorting\n```\n\n### URI Structure:\n\n```\nhttps://api.example.com/v1/users/123/orders?status=shipped\n\nProtocol: https\nHost: api.example.com\nVersion: v1\nResource: users\nID: 123\nSub-resource: orders\nQuery: status=shipped\n\nComplete Breakdown:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ https://api.example.com                â”‚ â† Base URL\nâ”‚   /v1                                  â”‚ â† API version\nâ”‚   /users                               â”‚ â† Resource type\nâ”‚   /123                                 â”‚ â† Resource ID\nâ”‚   /orders                              â”‚ â† Sub-resource\nâ”‚   ?status=shipped&sort=date            â”‚ â† Query params\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n## ðŸŽ¨ API Design Best Practices {#api-design}\n\n### RESTful Resource Design:\n\n```\nDesign Process:\n\n1. Identify Resources (Nouns)\n   - Users\n   - Posts\n   - Comments\n   - Categories\n\n2. Define Resource URIs\n   /users\n   /posts\n   /comments\n   /categories\n\n3. Map HTTP Methods\n   GET    /posts              â† List posts\n   POST   /posts              â† Create post\n   GET    /posts/123          â† Get post\n   PUT    /posts/123          â† Update post\n   DELETE /posts/123          â† Delete post\n\n4. Define Relationships\n   GET /posts/123/comments    â† Comments on post\n   GET /users/456/posts       â† Posts by user\n   GET /categories/789/posts  â† Posts in category\n\n5. Add Filtering/Sorting/Pagination\n   GET /posts?author=john&sort=-created_at&page=2&limit=20\n```\n\n### Complete API Example (Blog):\n\n```\nResources & Endpoints:\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ USERS                                       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ GET    /users           List users          â”‚\nâ”‚ POST   /users           Create user         â”‚\nâ”‚ GET    /users/:id       Get user            â”‚\nâ”‚ PUT    /users/:id       Update user         â”‚\nâ”‚ DELETE /users/:id       Delete user         â”‚\nâ”‚ GET    /users/:id/posts User's posts        â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ POSTS                                       â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ GET    /posts           List posts          â”‚\nâ”‚ POST   /posts           Create post         â”‚\nâ”‚ GET    /posts/:id       Get post            â”‚\nâ”‚ PUT    /posts/:id       Update post         â”‚\nâ”‚ DELETE /posts/:id       Delete post         â”‚\nâ”‚ GET    /posts/:id/comments Post comments    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ COMMENTS                                    â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ GET    /comments        List comments       â”‚\nâ”‚ POST   /comments        Create comment      â”‚\nâ”‚ GET    /comments/:id    Get comment         â”‚\nâ”‚ PUT    /comments/:id    Update comment      â”‚\nâ”‚ DELETE /comments/:id    Delete comment      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Query Parameters:\n\n```\nFiltering:\nGET /posts?author=john&status=published\n\nSorting:\nGET /posts?sort=created_at         â† Ascending\nGET /posts?sort=-created_at        â† Descending (minus)\n\nPagination:\nGET /posts?page=2&limit=20         â† Page 2, 20 items\nGET /posts?offset=20&limit=20      â† Skip 20, get 20\n\nField Selection (Sparse Fieldsets):\nGET /posts?fields=id,title,author  â† Only these fields\n\nSearch:\nGET /posts?q=javascript            â† Full-text search\n\nMultiple Filters:\nGET /posts?author=john&category=tech&status=published&sort=-created_at\n```\n\n---\n\n## ðŸ› ï¸ Building Your First API {#first-api}\n\n### Simple API with Node.js + Express:\n\n```javascript\n// server.js\nconst express = require('express');\nconst app = express();\nconst PORT = 3000;\n\n// Middleware\napp.use(express.json());  // Parse JSON bodies\n\n// In-memory database (for demo)\nlet users = [\n  { id: 1, name: 'John Doe', email: 'john@example.com' },\n  { id: 2, name: 'Jane Smith', email: 'jane@example.com' }\n];\n\n// ============================================\n// ROUTES\n// ============================================\n\n// GET all users\napp.get('/api/users', (req, res) => {\n  res.json({\n    success: true,\n    data: users,\n    count: users.length\n  });\n});\n\n// GET single user\napp.get('/api/users/:id', (req, res) => {\n  const user = users.find(u => u.id === parseInt(req.params.id));\n  \n  if (!user) {\n    return res.status(404).json({\n      success: false,\n      error: 'User not found'\n    });\n  }\n  \n  res.json({\n    success: true,\n    data: user\n  });\n});\n\n// CREATE user\napp.post('/api/users', (req, res) => {\n  const { name, email } = req.body;\n  \n  // Validation\n  if (!name || !email) {\n    return res.status(400).json({\n      success: false,\n      error: 'Name and email are required'\n    });\n  }\n  \n  // Create user\n  const newUser = {\n    id: users.length + 1,\n    name,\n    email\n  };\n  \n  users.push(newUser);\n  \n  res.status(201).json({\n    success: true,\n    data: newUser\n  });\n});\n\n// UPDATE user\napp.put('/api/users/:id', (req, res) => {\n  const user = users.find(u => u.id === parseInt(req.params.id));\n  \n  if (!user) {\n    return res.status(404).json({\n      success: false,\n      error: 'User not found'\n    });\n  }\n  \n  const { name, email } = req.body;\n  user.name = name || user.name;\n  user.email = email || user.email;\n  \n  res.json({\n    success: true,\n    data: user\n  });\n});\n\n// DELETE user\napp.delete('/api/users/:id', (req, res) => {\n  const index = users.findIndex(u => u.id === parseInt(req.params.id));\n  \n  if (index === -1) {\n    return res.status(404).json({\n      success: false,\n      error: 'User not found'\n    });\n  }\n  \n  users.splice(index, 1);\n  \n  res.status(204).send();  // No content\n});\n\n// Start server\napp.listen(PORT, () => {\n  console.log(`API server running on http://localhost:${PORT}`);\n});\n```\n\n### Testing the API:\n\n```bash\n# Start server\nnode server.js\n\n# GET all users\ncurl http://localhost:3000/api/users\n\n# GET single user\ncurl http://localhost:3000/api/users/1\n\n# CREATE user\ncurl -X POST http://localhost:3000/api/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Alice\",\"email\":\"alice@example.com\"}'\n\n# UPDATE user\ncurl -X PUT http://localhost:3000/api/users/1 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"John Updated\"}'\n\n# DELETE user\ncurl -X DELETE http://localhost:3000/api/users/1\n```\n\n### Python + Flask API:\n\n```python\n# app.py\nfrom flask import Flask, request, jsonify\nfrom flask_cors import CORS\n\napp = Flask(__name__)\nCORS(app)  # Enable CORS\n\n# In-memory database\nusers = [\n    {'id': 1, 'name': 'John Doe', 'email': 'john@example.com'},\n    {'id': 2, 'name': 'Jane Smith', 'email': 'jane@example.com'}\n]\n\n# GET all users\n@app.route('/api/users', methods=['GET'])\ndef get_users():\n    return jsonify({\n        'success': True,\n        'data': users,\n        'count': len(users)\n    })\n\n# GET single user\n@app.route('/api/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    user = next((u for u in users if u['id'] == user_id), None)\n    \n    if not user:\n        return jsonify({\n            'success': False,\n            'error': 'User not found'\n        }), 404\n    \n    return jsonify({\n        'success': True,\n        'data': user\n    })\n\n# CREATE user\n@app.route('/api/users', methods=['POST'])\ndef create_user():\n    data = request.get_json()\n    \n    # Validation\n    if not data.get('name') or not data.get('email'):\n        return jsonify({\n            'success': False,\n            'error': 'Name and email are required'\n        }), 400\n    \n    # Create user\n    new_user = {\n        'id': len(users) + 1,\n        'name': data['name'],\n        'email': data['email']\n    }\n    \n    users.append(new_user)\n    \n    return jsonify({\n        'success': True,\n        'data': new_user\n    }), 201\n\n# UPDATE user\n@app.route('/api/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    user = next((u for u in users if u['id'] == user_id), None)\n    \n    if not user:\n        return jsonify({\n            'success': False,\n            'error': 'User not found'\n        }), 404\n    \n    data = request.get_json()\n    user['name'] = data.get('name', user['name'])\n    user['email'] = data.get('email', user['email'])\n    \n    return jsonify({\n        'success': True,\n        'data': user\n    })\n\n# DELETE user\n@app.route('/api/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    global users\n    users = [u for u in users if u['id'] != user_id]\n    \n    return '', 204\n\nif __name__ == '__main__':\n    app.run(debug=True, port=3000)\n```\n\n---\n\n## ðŸ“¦ Request & Response Formats {#formats}\n\n### JSON Format (Most Common):\n\n```json\n// Request\nPOST /api/users\nContent-Type: application/json\n\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"age\": 30,\n  \"address\": {\n    \"street\": \"123 Main St\",\n    \"city\": \"New York\",\n    \"zip\": \"10001\"\n  },\n  \"tags\": [\"developer\", \"javascript\"]\n}\n\n// Response\nHTTP/1.1 201 Created\nContent-Type: application/json\n\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": 123,\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"age\": 30,\n    \"address\": {\n      \"street\": \"123 Main St\",\n      \"city\": \"New York\",\n      \"zip\": \"10001\"\n    },\n    \"tags\": [\"developer\", \"javascript\"],\n    \"created_at\": \"2024-01-15T10:30:00Z\",\n    \"updated_at\": \"2024-01-15T10:30:00Z\"\n  }\n}\n```\n\n### Standard Response Format:\n\n```json\n// Success Response\n{\n  \"success\": true,\n  \"data\": { ... },\n  \"message\": \"User created successfully\",\n  \"timestamp\": \"2024-01-15T10:30:00Z\"\n}\n\n// Error Response\n{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Email is required\",\n    \"details\": [\n      {\n        \"field\": \"email\",\n        \"message\": \"Must be a valid email address\"\n      }\n    ]\n  },\n  \"timestamp\": \"2024-01-15T10:30:00Z\"\n}\n\n// List Response with Pagination\n{\n  \"success\": true,\n  \"data\": [ ... ],\n  \"pagination\": {\n    \"page\": 2,\n    \"limit\": 20,\n    \"total\": 150,\n    \"totalPages\": 8,\n    \"hasNext\": true,\n    \"hasPrev\": true\n  }\n}\n```\n\n### Content Negotiation:\n\n```http\n// Client requests JSON\nGET /api/users/123\nAccept: application/json\n\n// Server responds with JSON\nHTTP/1.1 200 OK\nContent-Type: application/json\n{\"id\": 123, \"name\": \"John\"}\n\n// Client requests XML\nGET /api/users/123\nAccept: application/xml\n\n// Server responds with XML\nHTTP/1.1 200 OK\nContent-Type: application/xml\n<user><id>123</id><name>John</name></user>\n\n// Client accepts multiple formats\nAccept: application/json, application/xml;q=0.8, text/html;q=0.9\n        â†‘ Highest priority    â†‘ Lower (q=quality factor)\n```\n\n---\n\n## ðŸ” Authentication & Authorization {#authentication}\n\n### Authentication Methods:\n\n```\n1. API Keys (Simple)\nGET /api/users\nX-API-Key: abc123def456\n\nPros: Simple\nCons: Not secure alone, no expiration\n\n2. Basic Auth\nGET /api/users\nAuthorization: Basic base64(username:password)\n\nPros: Simple, standard\nCons: Credentials sent every request\n\n3. Bearer Token (JWT)\nGET /api/users\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n\nPros: Stateless, secure, standard\nCons: Token management complexity\n\n4. OAuth 2.0\nAuthorization: Bearer [access_token]\n\nPros: Delegated access, refresh tokens\nCons: Complex to implement\n```\n\n### JWT (JSON Web Token):\n\n```\nJWT Structure:\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\nâ†‘ Header                             â†‘ Payload                                                                â†‘ Signature\n\nHeader (Base64):\n{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n\nPayload (Base64):\n{\n  \"sub\": \"1234567890\",      â† User ID\n  \"name\": \"John Doe\",       â† User data\n  \"role\": \"admin\",\n  \"iat\": 1516239022,        â† Issued at\n  \"exp\": 1516242622         â† Expires at\n}\n\nSignature:\nHMACSHA256(\n  base64UrlEncode(header) + \".\" +\n  base64UrlEncode(payload),\n  secret\n)\n```\n\n### Implementing JWT Auth:\n\n```javascript\n// Node.js + Express + JWT\nconst express = require('express');\nconst jwt = require('jsonwebtoken');\nconst bcrypt = require('bcrypt');\n\nconst app = express();\napp.use(express.json());\n\nconst SECRET_KEY = process.env.JWT_SECRET || 'your-secret-key';\n\n// Mock user database\nconst users = [\n  { id: 1, email: 'john@example.com', password: '$2b$10$...' }\n];\n\n// ============================================\n// AUTHENTICATION ROUTES\n// ============================================\n\n// Register\napp.post('/api/auth/register', async (req, res) => {\n  const { email, password } = req.body;\n  \n  // Validation\n  if (!email || !password) {\n    return res.status(400).json({ error: 'Email and password required' });\n  }\n  \n  // Check if user exists\n  if (users.find(u => u.email === email)) {\n    return res.status(409).json({ error: 'User already exists' });\n  }\n  \n  // Hash password\n  const hashedPassword = await bcrypt.hash(password, 10);\n  \n  // Create user\n  const newUser = {\n    id: users.length + 1,\n    email,\n    password: hashedPassword\n  };\n  users.push(newUser);\n  \n  // Generate token\n  const token = jwt.sign(\n    { userId: newUser.id, email: newUser.email },\n    SECRET_KEY,\n    { expiresIn: '24h' }\n  );\n  \n  res.status(201).json({\n    success: true,\n    token,\n    user: { id: newUser.id, email: newUser.email }\n  });\n});\n\n// Login\napp.post('/api/auth/login', async (req, res) => {\n  const { email, password } = req.body;\n  \n  // Find user\n  const user = users.find(u => u.email === email);\n  if (!user) {\n    return res.status(401).json({ error: 'Invalid credentials' });\n  }\n  \n  // Verify password\n  const validPassword = await bcrypt.compare(password, user.password);\n  if (!validPassword) {\n    return res.status(401).json({ error: 'Invalid credentials' });\n  }\n  \n  // Generate token\n  const token = jwt.sign(\n    { userId: user.id, email: user.email },\n    SECRET_KEY,\n    { expiresIn: '24h' }\n  );\n  \n  res.json({\n    success: true,\n    token,\n    user: { id: user.id, email: user.email }\n  });\n});\n\n// ============================================\n// MIDDLEWARE: Verify Token\n// ============================================\n\nfunction authMiddleware(req, res, next) {\n  // Get token from header\n  const authHeader = req.headers.authorization;\n  \n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    return res.status(401).json({ error: 'No token provided' });\n  }\n  \n  const token = authHeader.substring(7);  // Remove 'Bearer '\n  \n  try {\n    // Verify token\n    const decoded = jwt.verify(token, SECRET_KEY);\n    req.user = decoded;  // Add user info to request\n    next();\n  } catch (error) {\n    return res.status(401).json({ error: 'Invalid token' });\n  }\n}\n\n// ============================================\n// PROTECTED ROUTES (Require Authentication)\n// ============================================\n\n// Get profile (protected)\napp.get('/api/profile', authMiddleware, (req, res) => {\n  const user = users.find(u => u.id === req.user.userId);\n  \n  res.json({\n    success: true,\n    data: {\n      id: user.id,\n      email: user.email\n    }\n  });\n});\n\n// Update profile (protected)\napp.put('/api/profile', authMiddleware, (req, res) => {\n  const user = users.find(u => u.id === req.user.userId);\n  \n  // Update logic...\n  \n  res.json({\n    success: true,\n    data: user\n  });\n});\n\napp.listen(3000);\n```\n\n### Python + Flask JWT:\n\n```python\nfrom flask import Flask, request, jsonify\nfrom flask_jwt_extended import (\n    JWTManager, create_access_token,\n    jwt_required, get_jwt_identity\n)\nfrom werkzeug.security import generate_password_hash, check_password_hash\n\napp = Flask(__name__)\napp.config['JWT_SECRET_KEY'] = 'your-secret-key'\njwt = JWTManager(app)\n\nusers = []\n\n# Register\n@app.route('/api/auth/register', methods=['POST'])\ndef register():\n    data = request.get_json()\n    \n    # Validation\n    if not data.get('email') or not data.get('password'):\n        return jsonify({'error': 'Email and password required'}), 400\n    \n    # Check existing\n    if any(u['email'] == data['email'] for u in users):\n        return jsonify({'error': 'User already exists'}), 409\n    \n    # Create user\n    new_user = {\n        'id': len(users) + 1,\n        'email': data['email'],\n        'password': generate_password_hash(data['password'])\n    }\n    users.append(new_user)\n    \n    # Generate token\n    access_token = create_access_token(identity=new_user['id'])\n    \n    return jsonify({\n        'success': True,\n        'token': access_token,\n        'user': {'id': new_user['id'], 'email': new_user['email']}\n    }), 201\n\n# Login\n@app.route('/api/auth/login', methods=['POST'])\ndef login():\n    data = request.get_json()\n    \n    # Find user\n    user = next((u for u in users if u['email'] == data.get('email')), None)\n    if not user:\n        return jsonify({'error': 'Invalid credentials'}), 401\n    \n    # Verify password\n    if not check_password_hash(user['password'], data.get('password')):\n        return jsonify({'error': 'Invalid credentials'}), 401\n    \n    # Generate token\n    access_token = create_access_token(identity=user['id'])\n    \n    return jsonify({\n        'success': True,\n        'token': access_token,\n        'user': {'id': user['id'], 'email': user['email']}\n    })\n\n# Protected route\n@app.route('/api/profile', methods=['GET'])\n@jwt_required()\ndef get_profile():\n    current_user_id = get_jwt_identity()\n    user = next((u for u in users if u['id'] == current_user_id), None)\n    \n    return jsonify({\n        'success': True,\n        'data': {'id': user['id'], 'email': user['email']}\n    })\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n---\n\n## âš ï¸ Error Handling {#error-handling}\n\n### Standard Error Response Format:\n\n```json\n{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"RESOURCE_NOT_FOUND\",\n    \"message\": \"User with ID 123 not found\",\n    \"statusCode\": 404,\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"path\": \"/api/users/123\",\n    \"details\": []\n  }\n}\n\n// Validation Error\n{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Validation failed\",\n    \"statusCode\": 422,\n    \"details\": [\n      {\n        \"field\": \"email\",\n        \"message\": \"Must be a valid email address\",\n        \"value\": \"invalid-email\"\n      },\n      {\n        \"field\": \"age\",\n        \"message\": \"Must be at least 18\",\n        \"value\": 15\n      }\n    ]\n  }\n}\n```\n\n### Error Handling Middleware:\n\n```javascript\n// Express error handler\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  \n  // Operational errors (expected)\n  if (err.isOperational) {\n    return res.status(err.statusCode).json({\n      success: false,\n      error: {\n        code: err.code,\n        message: err.message,\n        statusCode: err.statusCode\n      }\n    });\n  }\n  \n  // Programming errors (unexpected)\n  res.status(500).json({\n    success: false,\n    error: {\n      code: 'INTERNAL_SERVER_ERROR',\n      message: 'Something went wrong',\n      statusCode: 500\n    }\n  });\n});\n\n// Custom error class\nclass ApiError extends Error {\n  constructor(message, statusCode, code) {\n    super(message);\n    this.statusCode = statusCode;\n    this.code = code;\n    this.isOperational = true;\n  }\n}\n\n// Usage\napp.get('/api/users/:id', async (req, res, next) => {\n  try {\n    const user = await User.findById(req.params.id);\n    \n    if (!user) {\n      throw new ApiError('User not found', 404, 'RESOURCE_NOT_FOUND');\n    }\n    \n    res.json({ success: true, data: user });\n  } catch (error) {\n    next(error);\n  }\n});\n```\n\n---\n\n## ðŸ”„ Versioning Strategies {#versioning}\n\n### Why Version APIs?\n\n```\nWithout versioning:\nClient App v1 â”€â”€â”€â”€â†’ API (changed endpoint)\n                    â†“\n                   ðŸ’¥ App breaks!\n\nWith versioning:\nClient App v1 â”€â”€â”€â”€â†’ API v1 (unchanged)\nClient App v2 â”€â”€â”€â”€â†’ API v2 (new features)\n                    â†“\n                   âœ… Both work!\n```\n\n### Versioning Methods:\n\n```\n1. URL Path Versioning (Most Common)\nGET /api/v1/users\nGET /api/v2/users\n\nPros: Clear, easy to route\nCons: URL pollution\n\n2. Query Parameter Versioning\nGET /api/users?version=1\nGET /api/users?version=2\n\nPros: Same URL\nCons: Easy to forget\n\n3. Header Versioning\nGET /api/users\nAccept: application/vnd.myapi.v1+json\n\nPros: Clean URLs\nCons: Less visible\n\n4. Hostname Versioning\nGET https://api-v1.example.com/users\nGET https://api-v2.example.com/users\n\nPros: Complete separation\nCons: Infrastructure overhead\n\nRecommendation: Use URL path versioning (/api/v1/)\n```\n\n### Implementing Versioning:\n\n```javascript\n// Express with version routing\nconst express = require('express');\nconst app = express();\n\n// V1 Routes\nconst v1Router = express.Router();\n\nv1Router.get('/users', (req, res) => {\n  res.json({\n    version: '1.0',\n    data: users\n  });\n});\n\n// V2 Routes (enhanced)\nconst v2Router = express.Router();\n\nv2Router.get('/users', (req, res) => {\n  // V2 includes additional fields\n  const enhancedUsers = users.map(u => ({\n    ...u,\n    fullName: `${u.firstName} ${u.lastName}`,\n    profileUrl: `/users/${u.id}/profile`\n  }));\n  \n  res.json({\n    version: '2.0',\n    data: enhancedUsers,\n    _links: {\n      self: '/api/v2/users',\n      next: '/api/v2/users?page=2'\n    }\n  });\n});\n\n// Mount versions\napp.use('/api/v1', v1Router);\napp.use('/api/v2', v2Router);\n\n// Default to latest\napp.use('/api', v2Router);\n```\n\n---\n\n## ðŸ”’ API Security {#security}\n\n### Security Checklist:\n\n```markdown\nâœ… Authentication & Authorization\n- [ ] Use HTTPS only (TLS 1.2+)\n- [ ] Implement proper authentication (JWT, OAuth)\n- [ ] Validate tokens on every request\n- [ ] Use strong password hashing (bcrypt, Argon2)\n- [ ] Implement refresh tokens\n- [ ] Add MFA for sensitive operations\n\nâœ… Input Validation\n- [ ] Validate all inputs\n- [ ] Sanitize user data\n- [ ] Use parameterized queries (prevent SQL injection)\n- [ ] Limit request size\n- [ ] Validate content types\n\nâœ… Rate Limiting & DDoS\n- [ ] Implement rate limiting\n- [ ] Add request throttling\n- [ ] Use CAPTCHA for public endpoints\n- [ ] Monitor for suspicious patterns\n\nâœ… CORS (Cross-Origin Resource Sharing)\n- [ ] Configure CORS properly\n- [ ] Whitelist allowed origins\n- [ ] Don't use * in production\n\nâœ… Security Headers\n- [ ] X-Content-Type-Options: nosniff\n- [ ] X-Frame-Options: DENY\n- [ ] Content-Security-Policy\n- [ ] Strict-Transport-Security\n\nâœ… Logging & Monitoring\n- [ ] Log all authentication attempts\n- [ ] Monitor for anomalies\n- [ ] Don't log sensitive data\n- [ ] Set up alerts\n\nâœ… API Keys & Secrets\n- [ ] Never expose API keys in code\n- [ ] Use environment variables\n- [ ] Rotate keys regularly\n- [ ] Use key management services\n```\n\n### HTTPS Enforcement:\n\n```javascript\n// Force HTTPS\napp.use((req, res, next) => {\n  if (req.protocol !== 'https') {\n    return res.redirect(301, `https://${req.headers.host}${req.url}`);\n  }\n  next();\n});\n\n// Security headers (use helmet)\nconst helmet = require('helmet');\napp.use(helmet());\n```\n\n### CORS Configuration:\n\n```javascript\nconst cors = require('cors');\n\n// Development (allow all)\napp.use(cors());\n\n// Production (restrict origins)\nconst corsOptions = {\n  origin: ['https://example.com', 'https://app.example.com'],\n  methods: ['GET', 'POST', 'PUT', 'DELETE'],\n  allowedHeaders: ['Content-Type', 'Authorization'],\n  exposedHeaders: ['X-Total-Count'],\n  credentials: true,\n  maxAge: 86400  // 24 hours\n};\n\napp.use(cors(corsOptions));\n```\n\n### SQL Injection Prevention:\n\n```javascript\n// âŒ BAD - Vulnerable to SQL injection\napp.get('/users/:id', (req, res) => {\n  const query = `SELECT * FROM users WHERE id = ${req.params.id}`;\n  db.query(query);  // DANGEROUS!\n});\n\n// Attacker can send: /users/1 OR 1=1  (returns all users!)\n\n// âœ… GOOD - Use parameterized queries\napp.get('/users/:id', (req, res) => {\n  const query = 'SELECT * FROM users WHERE id = ?';\n  db.query(query, [req.params.id]);  // Safe!\n});\n\n// Or use ORM\napp.get('/users/:id', async (req, res) => {\n  const user = await User.findById(req.params.id);  // Safe!\n});\n```\n\n---\n\n## ðŸ§ª Testing APIs {#testing}\n\n### Testing Pyramid:\n\n```\n         â•±â•²\n        â•±  â•²\n       â•± E2E â•²      â† Few (slow, expensive)\n      â•±â”€â”€â”€â”€â”€â”€â•²\n     â•±  Integ-â•²\n    â•±  ration â•²     â† Some (medium)\n   â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²\n  â•±    Unit    â•²   â† Many (fast, cheap)\n â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²\n```\n\n### Unit Testing (Jest):\n\n```javascript\n// users.service.js\nclass UserService {\n  async createUser(userData) {\n    if (!userData.email) {\n      throw new Error('Email is required');\n    }\n    \n    // Create user logic...\n    return {\n      id: 1,\n      ...userData,\n      createdAt: new Date()\n    };\n  }\n}\n\n// users.service.test.js\nconst UserService = require('./users.service');\n\ndescribe('UserService', () => {\n  let userService;\n  \n  beforeEach(() => {\n    userService = new UserService();\n  });\n  \n  describe('createUser', () => {\n    it('should create user with valid data', async () => {\n      const userData = {\n        name: 'John',\n        email: 'john@example.com'\n      };\n      \n      const result = await userService.createUser(userData);\n      \n      expect(result).toHaveProperty('id');\n      expect(result.name).toBe('John');\n      expect(result.email).toBe('john@example.com');\n    });\n    \n    it('should throw error if email missing', async () => {\n      const userData = { name: 'John' };\n      \n      await expect(\n        userService.createUser(userData)\n      ).rejects.toThrow('Email is required');\n    });\n  });\n});\n```\n\n### Integration Testing (Supertest):\n\n```javascript\n// api.test.js\nconst request = require('supertest');\nconst app = require('./app');\n\ndescribe('Users API', () => {\n  let authToken;\n  \n  beforeAll(async () => {\n    // Get auth token\n    const response = await request(app)\n      .post('/api/auth/login')\n      .send({\n        email: 'test@example.com',\n        password: 'password123'\n      });\n    \n    authToken = response.body.token;\n  });\n  \n  describe('GET /api/users', () => {\n    it('should return list of users', async () => {\n      const response = await request(app)\n        .get('/api/users')\n        .set('Authorization', `Bearer ${authToken}`)\n        .expect(200)\n        .expect('Content-Type', /json/);\n      \n      expect(response.body.success).toBe(true);\n      expect(Array.isArray(response.body.data)).toBe(true);\n    });\n    \n    it('should return 401 without auth', async () => {\n      await request(app)\n        .get('/api/users')\n        .expect(401);\n    });\n  });\n  \n  describe('POST /api/users', () => {\n    it('should create new user', async () => {\n      const newUser = {\n        name: 'Alice',\n        email: 'alice@example.com'\n      };\n      \n      const response = await request(app)\n        .post('/api/users')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send(newUser)\n        .expect(201);\n      \n      expect(response.body.data.name).toBe('Alice');\n      expect(response.body.data).toHaveProperty('id');\n    });\n    \n    it('should validate required fields', async () => {\n      const response = await request(app)\n        .post('/api/users')\n        .set('Authorization', `Bearer ${authToken}`)\n        .send({ name: 'Alice' })  // Missing email\n        .expect(400);\n      \n      expect(response.body.error).toBeDefined();\n    });\n  });\n});\n```\n\n### Python Testing (pytest):\n\n```python\n# test_api.py\nimport pytest\nfrom app import app\n\n@pytest.fixture\ndef client():\n    app.config['TESTING'] = True\n    with app.test_client() as client:\n        yield client\n\n@pytest.fixture\ndef auth_token(client):\n    \"\"\"Get authentication token\"\"\"\n    response = client.post('/api/auth/login', json={\n        'email': 'test@example.com',\n        'password': 'password123'\n    })\n    return response.json['token']\n\ndef test_get_users(client, auth_token):\n    \"\"\"Test GET /api/users\"\"\"\n    response = client.get('/api/users', headers={\n        'Authorization': f'Bearer {auth_token}'\n    })\n    \n    assert response.status_code == 200\n    assert response.json['success'] is True\n    assert isinstance(response.json['data'], list)\n\ndef test_create_user(client, auth_token):\n    \"\"\"Test POST /api/users\"\"\"\n    new_user = {\n        'name': 'Alice',\n        'email': 'alice@example.com'\n    }\n    \n    response = client.post('/api/users', \n        json=new_user,\n        headers={'Authorization': f'Bearer {auth_token}'}\n    )\n    \n    assert response.status_code == 201\n    assert response.json['data']['name'] == 'Alice'\n    assert 'id' in response.json['data']\n\ndef test_validation(client, auth_token):\n    \"\"\"Test validation\"\"\"\n    response = client.post('/api/users',\n        json={'name': 'Alice'},  # Missing email\n        headers={'Authorization': f'Bearer {auth_token}'}\n    )\n    \n    assert response.status_code == 400\n    assert 'error' in response.json\n```\n\n---\n\n## ðŸ“– Documentation {#documentation}\n\n### OpenAPI/Swagger:\n\n```yaml\n# swagger.yaml\nopenapi: 3.0.0\ninfo:\n  title: Users API\n  description: API for managing users\n  version: 1.0.0\n  contact:\n    email: api@example.com\n\nservers:\n  - url: https://api.example.com/v1\n    description: Production\n  - url: http://localhost:3000/v1\n    description: Development\n\npaths:\n  /users:\n    get:\n      summary: List all users\n      description: Returns a list of users\n      security:\n        - bearerAuth: []\n      parameters:\n        - name: page\n          in: query\n          schema:\n            type: integer\n            default: 1\n        - name: limit\n          in: query\n          schema:\n            type: integer\n            default: 20\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  data:\n                    type: array\n                    items:\n                      $ref: '#/components/schemas/User'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n    \n    post:\n      summary: Create a user\n      security:\n        - bearerAuth: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - name\n                - email\n              properties:\n                name:\n                  type: string\n                  example: John Doe\n                email:\n                  type: string\n                  format: email\n                  example: john@example.com\n      responses:\n        '201':\n          description: User created\n        '400':\n          $ref: '#/components/responses/BadRequest'\n  \n  /users/{id}:\n    get:\n      summary: Get user by ID\n      security:\n        - bearerAuth: []\n      parameters:\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        '404':\n          $ref: '#/components/responses/NotFound'\n\ncomponents:\n  schemas:\n    User:\n      type: object\n      properties:\n        id:\n          type: integer\n          example: 1\n        name:\n          type: string\n          example: John Doe\n        email:\n          type: string\n          format: email\n          example: john@example.com\n        created_at:\n          type: string\n          format: date-time\n  \n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n  \n  responses:\n    Unauthorized:\n      description: Authentication required\n    BadRequest:\n      description: Invalid request\n    NotFound:\n      description: Resource not found\n```\n\n### Swagger UI in Express:\n\n```javascript\nconst swaggerUi = require('swagger-ui-express');\nconst YAML = require('yamljs');\n\nconst swaggerDocument = YAML.load('./swagger.yaml');\n\napp.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument));\n\n// Now visit: http://localhost:3000/api-docs\n```\n\n---\n\n## âš¡ Performance & Optimization {#performance}\n\n### Caching Strategies:\n\n```\n1. HTTP Caching (Client-side)\nCache-Control: max-age=3600      â† Cache for 1 hour\nETag: \"abc123\"                    â† Version identifier\n\n2. Server-side Caching (Redis)\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  Client  â”‚â”€â”€â”€â”€â†’â”‚ Redis â”‚â”€â”€â”€â”€â†’â”‚ Database â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                    â†‘\n              Cache hit: Fast!\n              Cache miss: Query DB\n\n3. CDN Caching\nStatic assets served from edge locations\n```\n\n### Implementing Caching:\n\n```javascript\nconst redis = require('redis');\nconst client = redis.createClient();\n\n// Cache middleware\nconst cache = (duration) => {\n  return async (req, res, next) => {\n    const key = `cache:${req.url}`;\n    \n    try {\n      const cached = await client.get(key);\n      \n      if (cached) {\n        return res.json(JSON.parse(cached));\n      }\n      \n      // Store original json method\n      res.sendResponse = res.json;\n      res.json = (body) => {\n        client.setex(key, duration, JSON.stringify(body));\n        res.sendResponse(body);\n      };\n      \n      next();\n    } catch (error) {\n      next();\n    }\n  };\n};\n\n// Usage\napp.get('/api/users', cache(300), (req, res) => {\n  // This will be cached for 5 minutes\n  res.json({ data: users });\n});\n```\n\n### Pagination:\n\n```javascript\n// Offset-based pagination\napp.get('/api/users', async (req, res) => {\n  const page = parseInt(req.query.page) || 1;\n  const limit = parseInt(req.query.limit) || 20;\n  const offset = (page - 1) * limit;\n  \n  const total = await User.count();\n  const users = await User.find()\n    .skip(offset)\n    .limit(limit);\n  \n  res.json({\n    data: users,\n    pagination: {\n      page,\n      limit,\n      total,\n      totalPages: Math.ceil(total / limit),\n      hasNext: page < Math.ceil(total / limit),\n      hasPrev: page > 1\n    }\n  });\n});\n\n// Cursor-based pagination (better for large datasets)\napp.get('/api/users', async (req, res) => {\n  const cursor = req.query.cursor;\n  const limit = parseInt(req.query.limit) || 20;\n  \n  let query = {};\n  if (cursor) {\n    query = { _id: { $gt: cursor } };\n  }\n  \n  const users = await User.find(query)\n    .limit(limit + 1);  // Fetch one extra to check if more exist\n  \n  const hasNext = users.length > limit;\n  const data = hasNext ? users.slice(0, -1) : users;\n  const nextCursor = hasNext ? data[data.length - 1]._id : null;\n  \n  res.json({\n    data,\n    pagination: {\n      nextCursor,\n      hasNext\n    }\n  });\n});\n```\n\n### Compression:\n\n```javascript\nconst compression = require('compression');\n\napp.use(compression());  // Gzip responses\n\n// Reduces response size by 70-90%!\n```\n\n---\n\n## ðŸš¦ Rate Limiting & Throttling {#rate-limiting}\n\n### Why Rate Limit?\n\n```\nWithout rate limiting:\nAttacker sends 1 million requests â”€â”€â”€â”€â†’ API crashes ðŸ’¥\n\nWith rate limiting:\n100 requests/minute allowed\nRequest 101 â”€â”€â”€â”€â†’ 429 Too Many Requests âœ…\n```\n\n### Implementing Rate Limiting:\n\n```javascript\nconst rateLimit = require('express-rate-limit');\n\n// Apply to all requests\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000,  // 15 minutes\n  max: 100,  // Limit each IP to 100 requests per windowMs\n  message: {\n    error: 'Too many requests, please try again later'\n  },\n  standardHeaders: true,  // Return rate limit info in headers\n  legacyHeaders: false\n});\n\napp.use('/api/', limiter);\n\n// Stricter limit for auth endpoints\nconst authLimiter = rateLimit({\n  windowMs: 15 * 60 * 1000,\n  max: 5,  // Only 5 login attempts per 15 minutes\n  skipSuccessfulRequests: true\n});\n\napp.use('/api/auth/login', authLimiter);\n\n// Response headers:\nX-RateLimit-Limit: 100\nX-RateLimit-Remaining: 95\nX-RateLimit-Reset: 1610000000\n```\n\n### Redis-based Rate Limiting:\n\n```javascript\nconst redis = require('redis');\nconst client = redis.createClient();\n\nasync function rateLimitMiddleware(req, res, next) {\n  const ip = req.ip;\n  const key = `ratelimit:${ip}`;\n  \n  const current = await client.incr(key);\n  \n  if (current === 1) {\n    await client.expire(key, 60);  // 60 seconds window\n  }\n  \n  const limit = 100;\n  const remaining = Math.max(0, limit - current);\n  \n  res.set('X-RateLimit-Limit', limit);\n  res.set('X-RateLimit-Remaining', remaining);\n  \n  if (current > limit) {\n    return res.status(429).json({\n      error: 'Too many requests'\n    });\n  }\n  \n  next();\n}\n\napp.use(rateLimitMiddleware);\n```\n\n---\n\n## ðŸŽ‰ Congratulations!\n\nYou've completed the **REST API Development: Zero to Hero** guide!\n\n**What's Next?**\n1. Build real APIs with databases\n2. Implement authentication & authorization\n3. Add comprehensive testing\n4. Deploy to production\n5. Monitor & optimize performance\n\n---\n\n*REST API Development: Zero to Hero Guide - Complete Edition*\n*Version 1.0 | Created January 2026*\n*Total: 5,000+ lines of API mastery!*\n\n**Happy API Building! ðŸš€**\n\n"}