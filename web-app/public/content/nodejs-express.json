{"id":"nodejs-express","title":"üü¢ Node.js & Express Zero to Hero","content":"# Node.js & Express: Zero to Hero Guide\n## Complete Backend JavaScript Development Mastery\n\n---\n\n## üìö Table of Contents\n\n1. [Introduction to Node.js](#introduction)\n2. [Setting Up Environment](#setup)\n3. [Node.js Fundamentals](#fundamentals)\n4. [Express.js Framework](#express)\n5. [RESTful API Development](#rest-api)\n6. [Middleware & Error Handling](#middleware)\n7. [Database Integration](#database)\n8. [Authentication & Authorization](#auth)\n9. [File Upload & Processing](#files)\n10. [Real-time with Socket.io](#realtime)\n11. [Testing & Debugging](#testing)\n12. [Performance & Scalability](#performance)\n13. [Deployment & Production](#deployment)\n14. [Best Practices](#best-practices)\n15. [Real-World Projects](#projects)\n\n---\n\n## üéØ Introduction to Node.js {#introduction}\n\n### What is Node.js?\n\n**Node.js** is a JavaScript runtime built on Chrome's V8 engine that allows you to run JavaScript on the server.\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ         Traditional Model           ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  Browser (JavaScript) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ UI    ‚îÇ\n‚îÇ  Server (PHP/Java/Python) ‚îÄ‚îÄ‚ñ∂ Logic ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ         Node.js Model               ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  Browser (JavaScript) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ UI    ‚îÇ\n‚îÇ  Server (JavaScript) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ Logic‚îÇ\n‚îÇ         Same Language! ‚ú®           ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### Why Node.js?\n\n- ‚úÖ **JavaScript Everywhere** - One language for frontend and backend\n- ‚úÖ **Fast & Scalable** - Non-blocking I/O, event-driven\n- ‚úÖ **NPM Ecosystem** - Largest package registry\n- ‚úÖ **Real-time** - Perfect for chat, live updates\n- ‚úÖ **Microservices** - Lightweight and modular\n\n### Node.js Architecture\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ           Your JavaScript Code                ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                ‚îÇ\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ          Node.js Core APIs                    ‚îÇ\n‚îÇ  (fs, http, path, crypto, etc.)              ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                ‚îÇ\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ          V8 JavaScript Engine                 ‚îÇ\n‚îÇ        (Compiles JS to machine code)         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                ‚îÇ\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ            libuv (Event Loop)                 ‚îÇ\n‚îÇ      (Handles async operations)              ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n---\n\n## üîß Setting Up Environment {#setup}\n\n### Installation\n\n**Step 1: Install Node.js**\n\n```bash\n# macOS (using Homebrew)\nbrew install node\n\n# Windows (download from nodejs.org)\n# Or use nvm (Node Version Manager)\n\n# Verify installation\nnode --version\nnpm --version\n```\n\n**Step 2: Project Setup**\n\n```bash\n# Create project directory\nmkdir my-express-app\ncd my-express-app\n\n# Initialize package.json\nnpm init -y\n\n# Install Express\nnpm install express\n\n# Install development dependencies\nnpm install --save-dev nodemon\n```\n\n**Project Structure**\n\n```\nmy-express-app/\n‚îú‚îÄ‚îÄ node_modules/        # Dependencies\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/     # Route handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/          # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ routes/          # Route definitions\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ utils/           # Helper functions\n‚îÇ   ‚îî‚îÄ‚îÄ app.js           # App entry point\n‚îú‚îÄ‚îÄ tests/               # Test files\n‚îú‚îÄ‚îÄ .env                 # Environment variables\n‚îú‚îÄ‚îÄ .gitignore          # Git ignore file\n‚îî‚îÄ‚îÄ package.json         # Project metadata\n```\n\n---\n\n## üìñ Node.js Fundamentals {#fundamentals}\n\n### 1. Modules System\n\n**CommonJS (Node.js Default)**\n\n```javascript\n// math.js - Export\nfunction add(a, b) {\n  return a + b;\n}\n\nfunction subtract(a, b) {\n  return a - b;\n}\n\nmodule.exports = { add, subtract };\n\n// app.js - Import\nconst math = require('./math');\nconsole.log(math.add(5, 3)); // 8\n```\n\n**ES Modules (Modern)**\n\n```javascript\n// math.mjs - Export\nexport function add(a, b) {\n  return a + b;\n}\n\nexport function subtract(a, b) {\n  return a - b;\n}\n\n// app.mjs - Import\nimport { add, subtract } from './math.mjs';\nconsole.log(add(5, 3)); // 8\n```\n\n### 2. Asynchronous Programming\n\n**Callbacks (Old Way)**\n\n```javascript\nconst fs = require('fs');\n\nfs.readFile('file.txt', 'utf8', (err, data) => {\n  if (err) {\n    console.error('Error:', err);\n    return;\n  }\n  console.log(data);\n});\n```\n\n**Promises (Better)**\n\n```javascript\nconst fs = require('fs').promises;\n\nfs.readFile('file.txt', 'utf8')\n  .then(data => console.log(data))\n  .catch(err => console.error('Error:', err));\n```\n\n**Async/Await (Best)**\n\n```javascript\nconst fs = require('fs').promises;\n\nasync function readFileAsync() {\n  try {\n    const data = await fs.readFile('file.txt', 'utf8');\n    console.log(data);\n  } catch (err) {\n    console.error('Error:', err);\n  }\n}\n\nreadFileAsync();\n```\n\n### 3. Event Loop\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ      Call Stack           ‚îÇ  ‚Üê Your synchronous code\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n            ‚îÇ\n            ‚ñº\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ    Node.js APIs           ‚îÇ  ‚Üê fs, http, timers\n‚îÇ  (Background threads)     ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n            ‚îÇ\n            ‚ñº\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ    Callback Queue         ‚îÇ  ‚Üê Completed operations\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n            ‚îÇ\n            ‚ñº (When call stack is empty)\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ    Event Loop             ‚îÇ  ‚Üê Picks callbacks\n‚îÇ  (Executes callbacks)     ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n**Example:**\n\n```javascript\nconsole.log('1. Start');\n\nsetTimeout(() => {\n  console.log('2. Timeout callback');\n}, 0);\n\nPromise.resolve().then(() => {\n  console.log('3. Promise callback');\n});\n\nconsole.log('4. End');\n\n// Output:\n// 1. Start\n// 4. End\n// 3. Promise callback (Microtasks execute first!)\n// 2. Timeout callback\n```\n\n### 4. Built-in Modules\n\n**File System (fs)**\n\n```javascript\nconst fs = require('fs').promises;\n\n// Read file\nconst content = await fs.readFile('file.txt', 'utf8');\n\n// Write file\nawait fs.writeFile('output.txt', 'Hello World');\n\n// Check if file exists\nconst exists = await fs.access('file.txt')\n  .then(() => true)\n  .catch(() => false);\n```\n\n**Path Module**\n\n```javascript\nconst path = require('path');\n\nconst filePath = '/user/local/file.txt';\n\nconsole.log(path.dirname(filePath));  // /user/local\nconsole.log(path.basename(filePath)); // file.txt\nconsole.log(path.extname(filePath));  // .txt\n\n// Join paths (works across OS)\nconst fullPath = path.join(__dirname, 'uploads', 'image.jpg');\n```\n\n**HTTP Module**\n\n```javascript\nconst http = require('http');\n\nconst server = http.createServer((req, res) => {\n  res.writeHead(200, { 'Content-Type': 'text/plain' });\n  res.end('Hello World\\n');\n});\n\nserver.listen(3000, () => {\n  console.log('Server running on port 3000');\n});\n```\n\n### 5. Streams (Efficient Data Processing)\n\n**What are Streams?**\n\nStreams are objects that let you read data from a source or write data to a destination in a continuous manner. Instead of reading an entire file into memory, streams process data chunk by chunk.\n\n**Why Use Streams?**\n\n- **Memory Efficient**: Handle large files without consuming lots of RAM\n- **Time Efficient**: Start processing data before entire file is loaded\n- **Composable**: Chain multiple operations together using pipes\n\n**Types of Streams:**\n\n1. **Readable**: Read data from source (e.g., `fs.createReadStream`, HTTP requests)\n2. **Writable**: Write data to destination (e.g., `fs.createWriteStream`, HTTP responses)\n3. **Duplex**: Both readable and writable (e.g., TCP sockets)\n4. **Transform**: Modify data while reading/writing (e.g., compression, encryption)\n\n**When to Use Streams:**\n- Processing large files (logs, videos, databases)\n- Real-time data processing\n- Network communication (HTTP, WebSockets)\n- File uploads/downloads\n\n```javascript\nconst fs = require('fs')\nconst { pipeline } = require('stream')\n\n// Read Stream (large files)\nconst readStream = fs.createReadStream('large-file.txt', { encoding: 'utf8' })\n\nreadStream.on('data', (chunk) => {\n  console.log('Received chunk:', chunk.length, 'bytes')\n})\n\nreadStream.on('end', () => {\n  console.log('Finished reading')\n})\n\nreadStream.on('error', (err) => {\n  console.error('Error:', err)\n})\n\n// Write Stream\nconst writeStream = fs.createWriteStream('output.txt')\n\nwriteStream.write('Hello ')\nwriteStream.write('World!')\nwriteStream.end()\n\n// Pipe (efficient copy)\nconst readStream2 = fs.createReadStream('source.txt')\nconst writeStream2 = fs.createWriteStream('destination.txt')\n\nreadStream2.pipe(writeStream2)\n\n// Transform Stream (modify data)\nconst { Transform } = require('stream')\n\nconst upperCaseTransform = new Transform({\n  transform(chunk, encoding, callback) {\n    this.push(chunk.toString().toUpperCase())\n    callback()\n  }\n})\n\n// Pipeline (safer than pipe)\npipeline(\n  fs.createReadStream('input.txt'),\n  upperCaseTransform,\n  fs.createWriteStream('output.txt'),\n  (err) => {\n    if (err) {\n      console.error('Pipeline failed:', err)\n    } else {\n      console.log('Pipeline succeeded')\n    }\n  }\n)\n```\n\n**Stream Types:**\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Readable  ‚Üí Read data             ‚îÇ\n‚îÇ  Writable  ‚Üí Write data            ‚îÇ\n‚îÇ  Duplex    ‚Üí Read & Write          ‚îÇ\n‚îÇ  Transform ‚Üí Modify data           ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### 6. Buffer (Binary Data)\n\n**What is Buffer?**\n\nBuffer is a temporary storage area for binary data. Unlike strings (which handle text), Buffers work with raw binary data like images, videos, or network packets.\n\n**Why Use Buffers?**\n\n- JavaScript strings are designed for UTF-16 text, not binary data\n- Buffers provide efficient low-level memory operations\n- Essential for file I/O, network protocols, cryptography\n\n**How Buffers Work:**\n\nBuffers allocate raw memory outside V8's heap memory. This makes them:\n- Faster for binary operations\n- Fixed-size (can't be resized)\n- Not subject to garbage collection during allocation\n\n**When to Use Buffers:**\n- Reading/writing files\n- Network communication (TCP/UDP)\n- Image/video processing\n- Encryption/decryption\n- Working with binary protocols\n\n```javascript\n// Create buffer\nconst buf1 = Buffer.from('Hello')\nconst buf2 = Buffer.alloc(10)  // 10 bytes of zeros\nconst buf3 = Buffer.allocUnsafe(10)  // Faster but uninitialized\n\n// Read buffer\nconsole.log(buf1.toString())  // 'Hello'\nconsole.log(buf1.toString('hex'))  // '48656c6c6f'\n\n// Write to buffer\nbuf2.write('Node.js')\nconsole.log(buf2.toString())  // 'Node.js'\n\n// Buffer operations\nconst buf4 = Buffer.concat([buf1, buf2])\nconst sliced = buf4.slice(0, 5)\n\n// Compare buffers\nconsole.log(buf1.equals(buf2))  // false\nconsole.log(Buffer.compare(buf1, buf2))  // -1, 0, or 1\n```\n\n### 7. Child Processes (Run External Commands)\n\nExecute system commands and spawn separate processes.\n\n```javascript\nconst { exec, spawn, fork } = require('child_process')\n\n// exec - Run command and get output at once\nexec('ls -la', (error, stdout, stderr) => {\n  if (error) {\n    console.error('Error:', error)\n    return\n  }\n  console.log('Output:', stdout)\n})\n\n// spawn - Stream output (better for large output)\nconst ls = spawn('ls', ['-la'])\n\nls.stdout.on('data', (data) => {\n  console.log(`stdout: ${data}`)\n})\n\nls.stderr.on('data', (data) => {\n  console.error(`stderr: ${data}`)\n})\n\nls.on('close', (code) => {\n  console.log(`Process exited with code ${code}`)\n})\n\n// fork - Run Node.js script in separate process\nconst child = fork('child.js')\n\nchild.send({ hello: 'world' })\n\nchild.on('message', (msg) => {\n  console.log('Message from child:', msg)\n})\n\n// child.js\nprocess.on('message', (msg) => {\n  console.log('Message from parent:', msg)\n  process.send({ foo: 'bar' })\n})\n```\n\n### 8. Worker Threads (True Parallelism)\n\n**What are Worker Threads?**\n\nWorker Threads enable true parallel JavaScript execution by creating separate V8 instances. Unlike the event loop (which is concurrent but not parallel), worker threads run code simultaneously on multiple CPU cores.\n\n**Why Use Worker Threads?**\n\n- **True Parallelism**: Multiple threads execute at the same time\n- **CPU-Intensive Tasks**: Handle heavy computations without blocking\n- **Shared Memory**: Can share data via SharedArrayBuffer (faster than IPC)\n- **Better than Child Processes**: Lighter weight, faster communication\n\n**How Worker Threads Work:**\n\nEach worker thread has:\n- Own V8 instance and event loop\n- Separate memory space (isolated)\n- Message-based communication with main thread\n- Ability to share memory via SharedArrayBuffer\n\n**Worker Threads vs Child Processes:**\n\n| Feature | Worker Threads | Child Processes |\n|---------|---------------|----------------|\n| Memory | Shared (can use SharedArrayBuffer) | Separate |\n| Startup Time | Fast (~2ms) | Slower (~30ms) |\n| Communication | `postMessage()` | IPC / Streams |\n| Use Case | CPU-intensive JS | External programs, isolation |\n| Overhead | Lightweight | Heavier |\n\n**When to Use Worker Threads:**\n- Image/video processing\n- Data encryption/hashing\n- Complex calculations (ML, simulations)\n- Parallel array processing\n- Tasks taking >50ms on main thread\n\n```javascript\nconst { Worker, isMainThread, parentPort, workerData } = require('worker_threads')\n\nif (isMainThread) {\n  // Main thread\n  console.log('Main thread running')\n  \n  // Create worker\n  const worker = new Worker(__filename, {\n    workerData: { num: 5 }\n  })\n  \n  // Listen for messages\n  worker.on('message', (result) => {\n    console.log('Result from worker:', result)\n  })\n  \n  worker.on('error', (err) => {\n    console.error('Worker error:', err)\n  })\n  \n  worker.on('exit', (code) => {\n    console.log(`Worker stopped with exit code ${code}`)\n  })\n  \n} else {\n  // Worker thread\n  console.log('Worker thread running')\n  \n  // CPU-intensive task\n  function fibonacci(n) {\n    if (n <= 1) return n\n    return fibonacci(n - 1) + fibonacci(n - 2)\n  }\n  \n  const result = fibonacci(workerData.num)\n  \n  // Send result back\n  parentPort.postMessage(result)\n}\n```\n\n**Worker Pool Example:**\n\n```javascript\nconst { Worker } = require('worker_threads')\n\nclass WorkerPool {\n  constructor(workerScript, numWorkers) {\n    this.workerScript = workerScript\n    this.workers = []\n    this.queue = []\n    \n    for (let i = 0; i < numWorkers; i++) {\n      this.workers.push({ worker: null, busy: false })\n    }\n  }\n  \n  runTask(data) {\n    return new Promise((resolve, reject) => {\n      const availableWorker = this.workers.find(w => !w.busy)\n      \n      if (availableWorker) {\n        this.executeTask(availableWorker, data, resolve, reject)\n      } else {\n        this.queue.push({ data, resolve, reject })\n      }\n    })\n  }\n  \n  executeTask(workerObj, data, resolve, reject) {\n    workerObj.busy = true\n    workerObj.worker = new Worker(this.workerScript, { workerData: data })\n    \n    workerObj.worker.on('message', (result) => {\n      resolve(result)\n      workerObj.busy = false\n      workerObj.worker.terminate()\n      \n      // Process queue\n      if (this.queue.length > 0) {\n        const { data, resolve, reject } = this.queue.shift()\n        this.executeTask(workerObj, data, resolve, reject)\n      }\n    })\n    \n    workerObj.worker.on('error', reject)\n  }\n}\n\n// Usage\nconst pool = new WorkerPool('./worker.js', 4)\n\nasync function processTasks() {\n  const tasks = [1, 2, 3, 4, 5, 6, 7, 8]\n  const results = await Promise.all(\n    tasks.map(task => pool.runTask(task))\n  )\n  console.log('All results:', results)\n}\n```\n\n### 9. Cluster Module (Multi-Process Scaling)\n\n**What is Cluster Module?**\n\nThe Cluster module allows you to create multiple Node.js processes (workers) that share the same server port. This enables horizontal scaling on multi-core systems.\n\n**Why Use Cluster Module?**\n\n- **Full CPU Utilization**: Node.js is single-threaded; clustering uses all cores\n- **High Availability**: If one worker crashes, others continue serving requests\n- **Load Distribution**: Master process distributes connections across workers\n- **Zero-Downtime Restarts**: Restart workers one at a time\n\n**How Clustering Works:**\n\n1. **Master Process**: Manages worker processes, distributes incoming connections\n2. **Worker Processes**: Handle actual requests, each has own event loop\n3. **Load Balancing**: Master uses round-robin (default on most OS) to distribute load\n4. **IPC Communication**: Workers can communicate via master process\n\n**Cluster Architecture:**\n\n```\n                    [Master Process]\n                          |\n        +-----------------+-----------------+\n        |                 |                 |\n    [Worker 1]        [Worker 2]       [Worker 3]\n      Port 3000        Port 3000         Port 3000\n```\n\n**When to Use Cluster Module:**\n- Production web servers\n- High-traffic APIs\n- Applications needing high availability\n- When you need process-level isolation (crash recovery)\n\n**Cluster vs Worker Threads vs Child Processes:**\n\n| Feature | Cluster | Worker Threads | Child Processes |\n|---------|---------|---------------|----------------|\n| Purpose | HTTP load balancing | CPU-intensive tasks | System commands |\n| Shares Port | ‚úÖ Yes | ‚ùå No | ‚ùå No |\n| Memory | Separate | Shared option | Separate |\n| Communication | IPC | postMessage | IPC/Streams |\n| Use Case | Web servers | Parallel computing | Shell integration |\n\n```javascript\nconst cluster = require('cluster')\nconst http = require('http')\nconst numCPUs = require('os').cpus().length\n\nif (cluster.isMaster) {\n  console.log(`Master ${process.pid} is running`)\n  \n  // Fork workers\n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork()\n  }\n  \n  cluster.on('exit', (worker, code, signal) => {\n    console.log(`Worker ${worker.process.pid} died`)\n    console.log('Starting a new worker...')\n    cluster.fork()\n  })\n  \n  // Send message to all workers\n  Object.values(cluster.workers).forEach(worker => {\n    worker.send('Hello from master')\n  })\n  \n} else {\n  // Workers share the same TCP connection\n  const server = http.createServer((req, res) => {\n    res.writeHead(200)\n    res.end(`Process ${process.pid} handled the request\\n`)\n  })\n  \n  server.listen(3000, () => {\n    console.log(`Worker ${process.pid} started`)\n  })\n  \n  // Receive messages from master\n  process.on('message', (msg) => {\n    console.log(`Worker ${process.pid} received:`, msg)\n  })\n}\n```\n\n**Cluster vs Worker Threads:**\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Cluster Module                            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  ‚úÖ Separate processes (isolated memory)  ‚îÇ\n‚îÇ  ‚úÖ Good for I/O-heavy workloads           ‚îÇ\n‚îÇ  ‚úÖ Auto-restart on crash                  ‚îÇ\n‚îÇ  ‚ùå Higher memory usage                    ‚îÇ\n‚îÇ  ‚ùå IPC overhead                           ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Worker Threads                            ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  ‚úÖ Shared memory (faster communication)   ‚îÇ\n‚îÇ  ‚úÖ Good for CPU-heavy workloads           ‚îÇ\n‚îÇ  ‚úÖ Lower memory usage                     ‚îÇ\n‚îÇ  ‚ùå Crash affects main thread              ‚îÇ\n‚îÇ  ‚ùå Limited in older Node versions         ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### 10. Process & OS Information\n\n```javascript\nconst os = require('os')\nconst process = require('process')\n\n// OS Information\nconsole.log('Platform:', os.platform())  // 'darwin', 'linux', 'win32'\nconsole.log('CPU Architecture:', os.arch())  // 'x64', 'arm64'\nconsole.log('CPUs:', os.cpus().length)\nconsole.log('Total Memory:', os.totalmem() / 1024 / 1024 / 1024, 'GB')\nconsole.log('Free Memory:', os.freemem() / 1024 / 1024 / 1024, 'GB')\nconsole.log('Uptime:', os.uptime(), 'seconds')\nconsole.log('Home Directory:', os.homedir())\n\n// Process Information\nconsole.log('Process ID:', process.pid)\nconsole.log('Node Version:', process.version)\nconsole.log('Current Directory:', process.cwd())\nconsole.log('Memory Usage:', process.memoryUsage())\nconsole.log('CPU Usage:', process.cpuUsage())\nconsole.log('Uptime:', process.uptime(), 'seconds')\n\n// Environment Variables\nconsole.log('NODE_ENV:', process.env.NODE_ENV)\n\n// Exit process\n// process.exit(0)  // Success\n// process.exit(1)  // Error\n\n// Handle signals\nprocess.on('SIGTERM', () => {\n  console.log('SIGTERM received, shutting down gracefully...')\n  server.close(() => {\n    console.log('Server closed')\n    process.exit(0)\n  })\n})\n```\n\n---\n\n## ‚ö° Express.js Framework {#express}\n\n### What is Express?\n\nExpress is a minimal and flexible Node.js web application framework.\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Raw Node.js HTTP Server            ‚îÇ\n‚îÇ  - More code                        ‚îÇ\n‚îÇ  - Manual routing                   ‚îÇ\n‚îÇ  - Manual parsing                   ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                 vs\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Express Framework                   ‚îÇ\n‚îÇ  - Less code ‚ú®                     ‚îÇ\n‚îÇ  - Built-in routing                 ‚îÇ\n‚îÇ  - Middleware ecosystem             ‚îÇ\n‚îÇ  - Easy JSON handling               ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### Basic Express Server\n\n```javascript\n// app.js\nconst express = require('express');\nconst app = express();\nconst PORT = 3000;\n\n// Middleware to parse JSON\napp.use(express.json());\n\n// Simple route\napp.get('/', (req, res) => {\n  res.send('Hello Express!');\n});\n\n// JSON response\napp.get('/api/users', (req, res) => {\n  res.json({\n    users: [\n      { id: 1, name: 'John' },\n      { id: 2, name: 'Jane' }\n    ]\n  });\n});\n\n// Start server\napp.listen(PORT, () => {\n  console.log(`Server running on http://localhost:${PORT}`);\n});\n```\n\n### Routing\n\n**Basic Routes**\n\n```javascript\n// GET request\napp.get('/users', (req, res) => {\n  res.send('Get all users');\n});\n\n// POST request\napp.post('/users', (req, res) => {\n  res.send('Create user');\n});\n\n// PUT request\napp.put('/users/:id', (req, res) => {\n  res.send(`Update user ${req.params.id}`);\n});\n\n// DELETE request\napp.delete('/users/:id', (req, res) => {\n  res.send(`Delete user ${req.params.id}`);\n});\n```\n\n**Route Parameters**\n\n```javascript\n// URL: /users/123\napp.get('/users/:id', (req, res) => {\n  const userId = req.params.id;\n  res.send(`User ID: ${userId}`);\n});\n\n// Multiple parameters\n// URL: /users/123/posts/456\napp.get('/users/:userId/posts/:postId', (req, res) => {\n  const { userId, postId } = req.params;\n  res.json({ userId, postId });\n});\n```\n\n**Query Parameters**\n\n```javascript\n// URL: /search?query=node&limit=10\napp.get('/search', (req, res) => {\n  const { query, limit } = req.query;\n  res.json({\n    searchQuery: query,\n    limit: limit || 20\n  });\n});\n```\n\n**Router (Modular Routes)**\n\n```javascript\n// routes/users.js\nconst express = require('express');\nconst router = express.Router();\n\nrouter.get('/', (req, res) => {\n  res.send('Get all users');\n});\n\nrouter.get('/:id', (req, res) => {\n  res.send(`Get user ${req.params.id}`);\n});\n\nrouter.post('/', (req, res) => {\n  res.send('Create user');\n});\n\nmodule.exports = router;\n\n// app.js\nconst userRoutes = require('./routes/users');\napp.use('/api/users', userRoutes);\n```\n\n---\n\n## üîå RESTful API Development {#rest-api}\n\n### REST Principles\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Resource: /api/users                    ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  GET     /api/users       ‚Üí List all     ‚îÇ\n‚îÇ  GET     /api/users/:id   ‚Üí Get one      ‚îÇ\n‚îÇ  POST    /api/users       ‚Üí Create       ‚îÇ\n‚îÇ  PUT     /api/users/:id   ‚Üí Update (full)‚îÇ\n‚îÇ  PATCH   /api/users/:id   ‚Üí Update (part)‚îÇ\n‚îÇ  DELETE  /api/users/:id   ‚Üí Delete       ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n### Complete CRUD API Example\n\n```javascript\n// controllers/userController.js\nconst users = [\n  { id: 1, name: 'John Doe', email: 'john@example.com' },\n  { id: 2, name: 'Jane Smith', email: 'jane@example.com' }\n];\n\n// GET all users\nexports.getAllUsers = (req, res) => {\n  res.json({\n    success: true,\n    data: users\n  });\n};\n\n// GET single user\nexports.getUser = (req, res) => {\n  const user = users.find(u => u.id === parseInt(req.params.id));\n  \n  if (!user) {\n    return res.status(404).json({\n      success: false,\n      error: 'User not found'\n    });\n  }\n  \n  res.json({\n    success: true,\n    data: user\n  });\n};\n\n// CREATE user\nexports.createUser = (req, res) => {\n  const { name, email } = req.body;\n  \n  // Validation\n  if (!name || !email) {\n    return res.status(400).json({\n      success: false,\n      error: 'Name and email are required'\n    });\n  }\n  \n  const newUser = {\n    id: users.length + 1,\n    name,\n    email\n  };\n  \n  users.push(newUser);\n  \n  res.status(201).json({\n    success: true,\n    data: newUser\n  });\n};\n\n// UPDATE user\nexports.updateUser = (req, res) => {\n  const user = users.find(u => u.id === parseInt(req.params.id));\n  \n  if (!user) {\n    return res.status(404).json({\n      success: false,\n      error: 'User not found'\n    });\n  }\n  \n  const { name, email } = req.body;\n  if (name) user.name = name;\n  if (email) user.email = email;\n  \n  res.json({\n    success: true,\n    data: user\n  });\n};\n\n// DELETE user\nexports.deleteUser = (req, res) => {\n  const index = users.findIndex(u => u.id === parseInt(req.params.id));\n  \n  if (index === -1) {\n    return res.status(404).json({\n      success: false,\n      error: 'User not found'\n    });\n  }\n  \n  users.splice(index, 1);\n  \n  res.json({\n    success: true,\n    message: 'User deleted successfully'\n  });\n};\n```\n\n```javascript\n// routes/users.js\nconst express = require('express');\nconst router = express.Router();\nconst {\n  getAllUsers,\n  getUser,\n  createUser,\n  updateUser,\n  deleteUser\n} = require('../controllers/userController');\n\nrouter.route('/')\n  .get(getAllUsers)\n  .post(createUser);\n\nrouter.route('/:id')\n  .get(getUser)\n  .put(updateUser)\n  .delete(deleteUser);\n\nmodule.exports = router;\n```\n\n### Request Validation\n\n```javascript\nconst { body, validationResult } = require('express-validator');\n\n// Validation middleware\nconst validateUser = [\n  body('name')\n    .trim()\n    .isLength({ min: 3 })\n    .withMessage('Name must be at least 3 characters'),\n  body('email')\n    .isEmail()\n    .withMessage('Must be a valid email'),\n  body('age')\n    .optional()\n    .isInt({ min: 18 })\n    .withMessage('Must be 18 or older')\n];\n\n// Use in route\nrouter.post('/', validateUser, (req, res) => {\n  const errors = validationResult(req);\n  \n  if (!errors.isEmpty()) {\n    return res.status(400).json({\n      success: false,\n      errors: errors.array()\n    });\n  }\n  \n  // Proceed with creation\n  createUser(req, res);\n});\n```\n\n---\n\n## üîÄ Middleware & Error Handling {#middleware}\n\n### What is Middleware?\n\n```\nRequest ‚îÄ‚îÄ‚ñ∂ Middleware 1 ‚îÄ‚îÄ‚ñ∂ Middleware 2 ‚îÄ‚îÄ‚ñ∂ Route Handler ‚îÄ‚îÄ‚ñ∂ Response\n               ‚îÇ                 ‚îÇ                   ‚îÇ\n               ‚ñº                 ‚ñº                   ‚ñº\n           Logging          Authentication      Business Logic\n```\n\n### Built-in Middleware\n\n```javascript\nconst express = require('express');\nconst app = express();\n\n// Parse JSON bodies\napp.use(express.json());\n\n// Parse URL-encoded bodies\napp.use(express.urlencoded({ extended: true }));\n\n// Serve static files\napp.use(express.static('public'));\n```\n\n### Custom Middleware\n\n```javascript\n// Logger middleware\nconst logger = (req, res, next) => {\n  console.log(`${req.method} ${req.url} - ${new Date().toISOString()}`);\n  next(); // Pass control to next middleware\n};\n\n// Auth middleware\nconst authenticate = (req, res, next) => {\n  const token = req.headers.authorization;\n  \n  if (!token) {\n    return res.status(401).json({\n      success: false,\n      error: 'No token provided'\n    });\n  }\n  \n  // Verify token (simplified)\n  if (token === 'valid-token') {\n    req.user = { id: 1, name: 'John' };\n    next();\n  } else {\n    return res.status(401).json({\n      success: false,\n      error: 'Invalid token'\n    });\n  }\n};\n\n// Use middleware\napp.use(logger); // Apply to all routes\napp.get('/protected', authenticate, (req, res) => {\n  res.json({ message: `Hello ${req.user.name}` });\n});\n```\n\n### Third-Party Middleware\n\n```javascript\nconst cors = require('cors');\nconst helmet = require('helmet');\nconst morgan = require('morgan');\nconst compression = require('compression');\n\n// CORS - Allow cross-origin requests\napp.use(cors());\n\n// Helmet - Security headers\napp.use(helmet());\n\n// Morgan - HTTP request logger\napp.use(morgan('dev'));\n\n// Compression - Gzip compression\napp.use(compression());\n```\n\n### Error Handling\n\n```javascript\n// Custom error class\nclass AppError extends Error {\n  constructor(message, statusCode) {\n    super(message);\n    this.statusCode = statusCode;\n    this.isOperational = true;\n  }\n}\n\n// Async error wrapper\nconst asyncHandler = (fn) => (req, res, next) => {\n  Promise.resolve(fn(req, res, next)).catch(next);\n};\n\n// Use in routes\napp.get('/users/:id', asyncHandler(async (req, res, next) => {\n  const user = await User.findById(req.params.id);\n  \n  if (!user) {\n    throw new AppError('User not found', 404);\n  }\n  \n  res.json({ success: true, data: user });\n}));\n\n// Global error handler (must be last!)\napp.use((err, req, res, next) => {\n  err.statusCode = err.statusCode || 500;\n  err.message = err.message || 'Internal Server Error';\n  \n  // Development error\n  if (process.env.NODE_ENV === 'development') {\n    res.status(err.statusCode).json({\n      success: false,\n      error: err.message,\n      stack: err.stack\n    });\n  } else {\n    // Production error\n    res.status(err.statusCode).json({\n      success: false,\n      error: err.message\n    });\n  }\n});\n```\n\n---\n\n## üíæ Database Integration {#database}\n\n### MongoDB with Mongoose\n\n**Install**\n\n```bash\nnpm install mongoose\n```\n\n**Connection**\n\n```javascript\n// config/database.js\nconst mongoose = require('mongoose');\n\nconst connectDB = async () => {\n  try {\n    await mongoose.connect(process.env.MONGODB_URI, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    console.log('MongoDB connected successfully');\n  } catch (error) {\n    console.error('MongoDB connection error:', error);\n    process.exit(1);\n  }\n};\n\nmodule.exports = connectDB;\n```\n\n**Model Definition**\n\n```javascript\n// models/User.js\nconst mongoose = require('mongoose');\n\nconst userSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    required: [true, 'Name is required'],\n    trim: true,\n    minlength: 3\n  },\n  email: {\n    type: String,\n    required: [true, 'Email is required'],\n    unique: true,\n    lowercase: true,\n    match: [/^\\S+@\\S+\\.\\S+$/, 'Please enter a valid email']\n  },\n  password: {\n    type: String,\n    required: [true, 'Password is required'],\n    minlength: 6,\n    select: false // Don't return password by default\n  },\n  role: {\n    type: String,\n    enum: ['user', 'admin'],\n    default: 'user'\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\n\n// Hash password before saving\nuserSchema.pre('save', async function(next) {\n  if (!this.isModified('password')) return next();\n  \n  const bcrypt = require('bcryptjs');\n  this.password = await bcrypt.hash(this.password, 10);\n  next();\n});\n\n// Instance method\nuserSchema.methods.comparePassword = async function(candidatePassword) {\n  const bcrypt = require('bcryptjs');\n  return await bcrypt.compare(candidatePassword, this.password);\n};\n\nmodule.exports = mongoose.model('User', userSchema);\n```\n\n**CRUD Operations**\n\n```javascript\n// controllers/userController.js\nconst User = require('../models/User');\n\n// Create\nexports.createUser = async (req, res) => {\n  try {\n    const user = await User.create(req.body);\n    res.status(201).json({\n      success: true,\n      data: user\n    });\n  } catch (error) {\n    res.status(400).json({\n      success: false,\n      error: error.message\n    });\n  }\n};\n\n// Read all\nexports.getAllUsers = async (req, res) => {\n  try {\n    const users = await User.find();\n    res.json({\n      success: true,\n      count: users.length,\n      data: users\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      error: error.message\n    });\n  }\n};\n\n// Read one\nexports.getUser = async (req, res) => {\n  try {\n    const user = await User.findById(req.params.id);\n    \n    if (!user) {\n      return res.status(404).json({\n        success: false,\n        error: 'User not found'\n      });\n    }\n    \n    res.json({\n      success: true,\n      data: user\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      error: error.message\n    });\n  }\n};\n\n// Update\nexports.updateUser = async (req, res) => {\n  try {\n    const user = await User.findByIdAndUpdate(\n      req.params.id,\n      req.body,\n      {\n        new: true, // Return updated document\n        runValidators: true // Run model validators\n      }\n    );\n    \n    if (!user) {\n      return res.status(404).json({\n        success: false,\n        error: 'User not found'\n      });\n    }\n    \n    res.json({\n      success: true,\n      data: user\n    });\n  } catch (error) {\n    res.status(400).json({\n      success: false,\n      error: error.message\n    });\n  }\n};\n\n// Delete\nexports.deleteUser = async (req, res) => {\n  try {\n    const user = await User.findByIdAndDelete(req.params.id);\n    \n    if (!user) {\n      return res.status(404).json({\n        success: false,\n        error: 'User not found'\n      });\n    }\n    \n    res.json({\n      success: true,\n      message: 'User deleted successfully'\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      error: error.message\n    });\n  }\n};\n```\n\n### Advanced Queries\n\n```javascript\n// Pagination\nexports.getUsers = async (req, res) => {\n  const page = parseInt(req.query.page) || 1;\n  const limit = parseInt(req.query.limit) || 10;\n  const skip = (page - 1) * limit;\n  \n  const users = await User.find()\n    .skip(skip)\n    .limit(limit)\n    .sort({ createdAt: -1 });\n  \n  const total = await User.countDocuments();\n  \n  res.json({\n    success: true,\n    data: users,\n    pagination: {\n      page,\n      limit,\n      total,\n      pages: Math.ceil(total / limit)\n    }\n  });\n};\n\n// Search & Filter\nexports.searchUsers = async (req, res) => {\n  const { name, email, role } = req.query;\n  \n  const query = {};\n  \n  if (name) {\n    query.name = { $regex: name, $options: 'i' }; // Case-insensitive\n  }\n  \n  if (email) {\n    query.email = { $regex: email, $options: 'i' };\n  }\n  \n  if (role) {\n    query.role = role;\n  }\n  \n  const users = await User.find(query);\n  \n  res.json({\n    success: true,\n    count: users.length,\n    data: users\n  });\n};\n```\n\n---\n\n## üîê Authentication & Authorization {#auth}\n\n### JWT Authentication\n\n**Install**\n\n```bash\nnpm install jsonwebtoken bcryptjs\n```\n\n**Generate Token**\n\n```javascript\n// utils/generateToken.js\nconst jwt = require('jsonwebtoken');\n\nconst generateToken = (userId) => {\n  return jwt.sign(\n    { id: userId },\n    process.env.JWT_SECRET,\n    { expiresIn: '7d' }\n  );\n};\n\nmodule.exports = generateToken;\n```\n\n**Register**\n\n```javascript\n// controllers/authController.js\nconst User = require('../models/User');\nconst generateToken = require('../utils/generateToken');\n\nexports.register = async (req, res) => {\n  try {\n    const { name, email, password } = req.body;\n    \n    // Check if user exists\n    const existingUser = await User.findOne({ email });\n    if (existingUser) {\n      return res.status(400).json({\n        success: false,\n        error: 'Email already registered'\n      });\n    }\n    \n    // Create user\n    const user = await User.create({\n      name,\n      email,\n      password\n    });\n    \n    // Generate token\n    const token = generateToken(user._id);\n    \n    res.status(201).json({\n      success: true,\n      data: {\n        user: {\n          id: user._id,\n          name: user.name,\n          email: user.email\n        },\n        token\n      }\n    });\n  } catch (error) {\n    res.status(400).json({\n      success: false,\n      error: error.message\n    });\n  }\n};\n```\n\n**Login**\n\n```javascript\nexports.login = async (req, res) => {\n  try {\n    const { email, password } = req.body;\n    \n    // Validate input\n    if (!email || !password) {\n      return res.status(400).json({\n        success: false,\n        error: 'Please provide email and password'\n      });\n    }\n    \n    // Find user and include password\n    const user = await User.findOne({ email }).select('+password');\n    \n    if (!user) {\n      return res.status(401).json({\n        success: false,\n        error: 'Invalid credentials'\n      });\n    }\n    \n    // Check password\n    const isPasswordCorrect = await user.comparePassword(password);\n    \n    if (!isPasswordCorrect) {\n      return res.status(401).json({\n        success: false,\n        error: 'Invalid credentials'\n      });\n    }\n    \n    // Generate token\n    const token = generateToken(user._id);\n    \n    res.json({\n      success: true,\n      data: {\n        user: {\n          id: user._id,\n          name: user.name,\n          email: user.email\n        },\n        token\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      error: error.message\n    });\n  }\n};\n```\n\n**Auth Middleware**\n\n```javascript\n// middleware/auth.js\nconst jwt = require('jsonwebtoken');\nconst User = require('../models/User');\n\nexports.protect = async (req, res, next) => {\n  try {\n    let token;\n    \n    // Get token from header\n    if (req.headers.authorization && \n        req.headers.authorization.startsWith('Bearer')) {\n      token = req.headers.authorization.split(' ')[1];\n    }\n    \n    if (!token) {\n      return res.status(401).json({\n        success: false,\n        error: 'Not authorized to access this route'\n      });\n    }\n    \n    // Verify token\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n    \n    // Get user from token\n    req.user = await User.findById(decoded.id);\n    \n    if (!req.user) {\n      return res.status(401).json({\n        success: false,\n        error: 'User not found'\n      });\n    }\n    \n    next();\n  } catch (error) {\n    return res.status(401).json({\n      success: false,\n      error: 'Not authorized'\n    });\n  }\n};\n\n// Role-based authorization\nexports.authorize = (...roles) => {\n  return (req, res, next) => {\n    if (!roles.includes(req.user.role)) {\n      return res.status(403).json({\n        success: false,\n        error: `User role ${req.user.role} is not authorized`\n      });\n    }\n    next();\n  };\n};\n```\n\n**Protected Routes**\n\n```javascript\n// routes/users.js\nconst { protect, authorize } = require('../middleware/auth');\n\nrouter.get('/profile', protect, getUserProfile);\nrouter.delete('/:id', protect, authorize('admin'), deleteUser);\n```\n\n---\n\n## üé® GraphQL Basics {#graphql}\n\n**What is GraphQL?**\n\nGraphQL is a query language for APIs that allows clients to request exactly the data they need. Unlike REST where you get fixed data structures, GraphQL lets clients specify the exact fields they want.\n\n**Why Use GraphQL?**\n\n- **No Over-fetching**: Get only what you need\n- **No Under-fetching**: Get all data in one request (no multiple REST calls)\n- **Strongly Typed**: Schema defines all types and operations\n- **Self-Documenting**: Schema serves as documentation\n- **Real-time with Subscriptions**: WebSocket-based real-time updates\n\n**GraphQL vs REST:**\n\n| Feature | REST | GraphQL |\n|---------|------|---------|\n| Endpoints | Multiple (/users, /posts, /comments) | Single (/graphql) |\n| Data Fetching | Fixed response structure | Client specifies fields |\n| Over-fetching | Common (get all fields) | None (request what you need) |\n| Under-fetching | Multiple requests needed | Single request |\n| Versioning | URL versioning (/v1/, /v2/) | Schema evolution |\n\n**When to Use GraphQL:**\n- Mobile apps (minimize data transfer)\n- Complex data requirements\n- Rapid frontend development\n- Real-time features needed\n- Multiple clients with different data needs\n\n**Setup with Express**\n\n```bash\nnpm install apollo-server-express graphql\n```\n\n**Basic GraphQL Server**\n\n```javascript\nconst { ApolloServer, gql } = require('apollo-server-express')\nconst express = require('express')\n\n// Type definitions (schema)\nconst typeDefs = gql`\n  type User {\n    id: ID!\n    name: String!\n    email: String!\n    posts: [Post!]!\n  }\n  \n  type Post {\n    id: ID!\n    title: String!\n    content: String!\n    author: User!\n  }\n  \n  type Query {\n    users: [User!]!\n    user(id: ID!): User\n    posts: [Post!]!\n  }\n  \n  type Mutation {\n    createUser(name: String!, email: String!): User!\n    createPost(title: String!, content: String!, authorId: ID!): Post!\n  }\n`\n\n// Resolvers (how to fetch data)\nconst resolvers = {\n  Query: {\n    users: async () => await User.find(),\n    user: async (_, { id }) => await User.findById(id),\n    posts: async () => await Post.find()\n  },\n  \n  Mutation: {\n    createUser: async (_, { name, email }) => {\n      const user = new User({ name, email })\n      await user.save()\n      return user\n    },\n    createPost: async (_, { title, content, authorId }) => {\n      const post = new Post({ title, content, author: authorId })\n      await post.save()\n      return post\n    }\n  },\n  \n  // Nested resolvers\n  User: {\n    posts: async (parent) => await Post.find({ author: parent.id })\n  },\n  Post: {\n    author: async (parent) => await User.findById(parent.author)\n  }\n}\n\n// Create Apollo Server\nconst server = new ApolloServer({ typeDefs, resolvers })\n\nconst app = express()\nawait server.start()\nserver.applyMiddleware({ app })\n\napp.listen(4000, () => {\n  console.log(`Server ready at http://localhost:4000${server.graphqlPath}`)\n})\n```\n\n**Example Queries**\n\n```graphql\n# Get specific user fields\nquery {\n  user(id: \"123\") {\n    name\n    email\n    posts {\n      title\n    }\n  }\n}\n\n# Create user\nmutation {\n  createUser(name: \"John Doe\", email: \"john@example.com\") {\n    id\n    name\n  }\n}\n```\n\n---\n\n## üîÑ API Versioning {#versioning}\n\n**What is API Versioning?**\n\nAPI versioning allows you to make breaking changes while maintaining backward compatibility with existing clients.\n\n**Why Version APIs?**\n\n- **Breaking Changes**: Modify data structures without breaking existing apps\n- **Gradual Migration**: Clients update at their own pace\n- **Deprecation**: Sunset old versions gracefully\n- **Multiple Client Versions**: Support old mobile apps while updating backend\n\n**Versioning Strategies:**\n\n### 1. URL Path Versioning (Most Common)\n\n**Pros**: Clear, easy to understand, cacheable\n**Cons**: URL pollution, harder to maintain\n\n```javascript\n// V1 API\napp.get('/api/v1/users', (req, res) => {\n  res.json({ users: [...] })\n})\n\n// V2 API (new structure)\napp.get('/api/v2/users', (req, res) => {\n  res.json({\n    data: { users: [...] },\n    meta: { total: 100, page: 1 }\n  })\n})\n```\n\n### 2. Query Parameter Versioning\n\n**Pros**: Clean URLs\n**Cons**: Harder to route, not cacheable\n\n```javascript\napp.get('/api/users', (req, res) => {\n  const version = req.query.version || 'v1'\n  \n  if (version === 'v2') {\n    res.json({ data: { users: [...] }, meta: {} })\n  } else {\n    res.json({ users: [...] })\n  }\n})\n\n// Usage: GET /api/users?version=v2\n```\n\n### 3. Header Versioning\n\n**Pros**: Clean URLs, RESTful\n**Cons**: Not visible in URL, harder to test\n\n```javascript\napp.get('/api/users', (req, res) => {\n  const version = req.header('API-Version') || 'v1'\n  \n  if (version === 'v2') {\n    res.json({ data: { users: [...] }, meta: {} })\n  } else {\n    res.json({ users: [...] })\n  }\n})\n\n// Usage: GET /api/users\n// Header: API-Version: v2\n```\n\n**Best Practices:**\n- Use semantic versioning (v1, v2, not v1.1)\n- Document deprecation timelines\n- Monitor version usage\n- Provide migration guides\n- Default to latest stable version\n\n---\n\n## üìÅ File Upload & Processing {#files}\n\n### Using Multer\n\n**Install**\n\n```bash\nnpm install multer\n```\n\n**Configuration**\n\n```javascript\n// middleware/upload.js\nconst multer = require('multer');\nconst path = require('path');\n\n// Storage configuration\nconst storage = multer.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, 'uploads/');\n  },\n  filename: function (req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, file.fieldname + '-' + uniqueSuffix + path.extname(file.originalname));\n  }\n});\n\n// File filter\nconst fileFilter = (req, file, cb) => {\n  const allowedTypes = /jpeg|jpg|png|pdf/;\n  const extname = allowedTypes.test(path.extname(file.originalname).toLowerCase());\n  const mimetype = allowedTypes.test(file.mimetype);\n  \n  if (extname && mimetype) {\n    cb(null, true);\n  } else {\n    cb(new Error('Only images and PDFs are allowed!'));\n  }\n};\n\n// Upload configuration\nconst upload = multer({\n  storage: storage,\n  limits: {\n    fileSize: 5 * 1024 * 1024 // 5MB\n  },\n  fileFilter: fileFilter\n});\n\nmodule.exports = upload;\n```\n\n**Single File Upload**\n\n```javascript\nconst upload = require('../middleware/upload');\n\nrouter.post('/upload', upload.single('avatar'), (req, res) => {\n  if (!req.file) {\n    return res.status(400).json({\n      success: false,\n      error: 'Please upload a file'\n    });\n  }\n  \n  res.json({\n    success: true,\n    data: {\n      filename: req.file.filename,\n      path: req.file.path,\n      size: req.file.size\n    }\n  });\n});\n```\n\n**Multiple Files Upload**\n\n```javascript\nrouter.post('/upload-multiple', upload.array('photos', 5), (req, res) => {\n  if (!req.files || req.files.length === 0) {\n    return res.status(400).json({\n      success: false,\n      error: 'Please upload files'\n    });\n  }\n  \n  const files = req.files.map(file => ({\n    filename: file.filename,\n    path: file.path,\n    size: file.size\n  }));\n  \n  res.json({\n    success: true,\n    data: files\n  });\n});\n```\n\n---\n\n## ‚ö° Real-time with Socket.io {#realtime}\n\n**Install**\n\n```bash\nnpm install socket.io\n```\n\n**Server Setup**\n\n```javascript\n// server.js\nconst express = require('express');\nconst http = require('http');\nconst socketIO = require('socket.io');\n\nconst app = express();\nconst server = http.createServer(app);\nconst io = socketIO(server, {\n  cors: {\n    origin: '*'\n  }\n});\n\n// Socket.io connection\nio.on('connection', (socket) => {\n  console.log('New client connected:', socket.id);\n  \n  // Join room\n  socket.on('join-room', (room) => {\n    socket.join(room);\n    socket.to(room).emit('user-joined', socket.id);\n  });\n  \n  // Send message\n  socket.on('send-message', ({ room, message }) => {\n    io.to(room).emit('receive-message', {\n      user: socket.id,\n      message,\n      timestamp: new Date()\n    });\n  });\n  \n  // Disconnect\n  socket.on('disconnect', () => {\n    console.log('Client disconnected:', socket.id);\n  });\n});\n\nserver.listen(3000, () => {\n  console.log('Server running on port 3000');\n});\n```\n\n**Client (HTML)**\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <script src=\"/socket.io/socket.io.js\"></script>\n</head>\n<body>\n  <div id=\"messages\"></div>\n  <input id=\"messageInput\" type=\"text\" />\n  <button onclick=\"sendMessage()\">Send</button>\n  \n  <script>\n    const socket = io('http://localhost:3000');\n    \n    // Join room\n    socket.emit('join-room', 'room1');\n    \n    // Receive messages\n    socket.on('receive-message', (data) => {\n      const messagesDiv = document.getElementById('messages');\n      messagesDiv.innerHTML += `<p>${data.user}: ${data.message}</p>`;\n    });\n    \n    // Send message\n    function sendMessage() {\n      const input = document.getElementById('messageInput');\n      socket.emit('send-message', {\n        room: 'room1',\n        message: input.value\n      });\n      input.value = '';\n    }\n  </script>\n</body>\n</html>\n```\n\n---\n\n## üß™ Testing & Debugging {#testing}\n\n### Unit Testing with Jest\n\n**Install**\n\n```bash\nnpm install --save-dev jest supertest\n```\n\n**Test Example**\n\n```javascript\n// tests/user.test.js\nconst request = require('supertest');\nconst app = require('../app');\n\ndescribe('User API', () => {\n  describe('GET /api/users', () => {\n    it('should return all users', async () => {\n      const res = await request(app)\n        .get('/api/users')\n        .expect(200);\n      \n      expect(res.body.success).toBe(true);\n      expect(Array.isArray(res.body.data)).toBe(true);\n    });\n  });\n  \n  describe('POST /api/users', () => {\n    it('should create a new user', async () => {\n      const res = await request(app)\n        .post('/api/users')\n        .send({\n          name: 'Test User',\n          email: 'test@example.com',\n          password: 'password123'\n        })\n        .expect(201);\n      \n      expect(res.body.success).toBe(true);\n      expect(res.body.data.name).toBe('Test User');\n    });\n    \n    it('should return error for missing fields', async () => {\n      const res = await request(app)\n        .post('/api/users')\n        .send({\n          name: 'Test User'\n        })\n        .expect(400);\n      \n      expect(res.body.success).toBe(false);\n    });\n  });\n});\n```\n\n---\n\n## üöÄ Performance & Scalability {#performance}\n\n### Caching with Redis\n\n```javascript\nconst redis = require('redis');\nconst client = redis.createClient();\n\n// Cache middleware\nconst cache = async (req, res, next) => {\n  const key = req.originalUrl;\n  \n  try {\n    const data = await client.get(key);\n    \n    if (data) {\n      return res.json(JSON.parse(data));\n    }\n    \n    next();\n  } catch (error) {\n    next();\n  }\n};\n\n// Use in route\napp.get('/api/users', cache, async (req, res) => {\n  const users = await User.find();\n  \n  // Cache for 1 hour\n  await client.setex(req.originalUrl, 3600, JSON.stringify(users));\n  \n  res.json(users);\n});\n```\n\n### Rate Limiting\n\n```javascript\nconst rateLimit = require('express-rate-limit');\n\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // limit each IP to 100 requests per windowMs\n  message: 'Too many requests, please try again later'\n});\n\napp.use('/api/', limiter);\n```\n\n### Clustering\n\n```javascript\nconst cluster = require('cluster');\nconst os = require('os');\n\nif (cluster.isMaster) {\n  const numCPUs = os.cpus().length;\n  \n  for (let i = 0; i < numCPUs; i++) {\n    cluster.fork();\n  }\n  \n  cluster.on('exit', (worker) => {\n    console.log(`Worker ${worker.process.pid} died`);\n    cluster.fork();\n  });\n} else {\n  require('./app');\n}\n```\n\n---\n\n## üåê Deployment & Production {#deployment}\n\n### Environment Variables\n\n```bash\n# .env\nNODE_ENV=production\nPORT=3000\nMONGODB_URI=mongodb://localhost:27017/myapp\nJWT_SECRET=your-secret-key\n```\n\n```javascript\nrequire('dotenv').config();\n\nconst PORT = process.env.PORT || 3000;\nconst MONGODB_URI = process.env.MONGODB_URI;\n```\n\n### PM2 Process Manager\n\n```bash\n# Install PM2\nnpm install -g pm2\n\n# Start app\npm2 start app.js --name my-app\n\n# Monitor\npm2 monit\n\n# Logs\npm2 logs\n\n# Restart\npm2 restart my-app\n\n# Stop\npm2 stop my-app\n```\n\n### Docker Deployment\n\n```dockerfile\n# Dockerfile\nFROM node:18-alpine\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm install --production\n\nCOPY . .\n\nEXPOSE 3000\n\nCMD [\"node\", \"server.js\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=production\n      - MONGODB_URI=mongodb://mongo:27017/myapp\n    depends_on:\n      - mongo\n  \n  mongo:\n    image: mongo:latest\n    volumes:\n      - mongo-data:/data/db\n\nvolumes:\n  mongo-data:\n```\n\n---\n\n## ‚úÖ Best Practices {#best-practices}\n\n### 1. Project Structure\n\n```\nsrc/\n‚îú‚îÄ‚îÄ config/           # Configuration files\n‚îú‚îÄ‚îÄ controllers/      # Route controllers\n‚îú‚îÄ‚îÄ models/           # Database models\n‚îú‚îÄ‚îÄ routes/           # Route definitions\n‚îú‚îÄ‚îÄ middleware/       # Custom middleware\n‚îú‚îÄ‚îÄ utils/            # Helper functions\n‚îú‚îÄ‚îÄ validators/       # Input validation\n‚îú‚îÄ‚îÄ services/         # Business logic\n‚îî‚îÄ‚îÄ app.js            # Express app\n```\n\n### 2. Error Handling\n\n- Always use try-catch for async operations\n- Create custom error classes\n- Use centralized error handler\n- Log errors properly\n\n### 3. Security\n\n```javascript\nconst helmet = require('helmet');\nconst mongoSanitize = require('express-mongo-sanitize');\nconst xss = require('xss-clean');\nconst hpp = require('hpp');\n\n// Security headers\napp.use(helmet());\n\n// Prevent NoSQL injection\napp.use(mongoSanitize());\n\n// Prevent XSS attacks\napp.use(xss());\n\n// Prevent parameter pollution\napp.use(hpp());\n```\n\n### 4. Performance\n\n- Use compression\n- Implement caching\n- Database indexing\n- Connection pooling\n- Load balancing\n\n---\n\n## üéØ Real-World Projects {#projects}\n\n### Project 1: Blog API\n\nComplete REST API with:\n- User authentication\n- CRUD for posts\n- Comments system\n- File uploads\n- Pagination & search\n\n### Project 2: E-commerce API\n\nFeatures:\n- Product management\n- Shopping cart\n- Order processing\n- Payment integration\n- Admin dashboard\n\n### Project 3: Real-time Chat\n\nIncludes:\n- Socket.io integration\n- Private & group chats\n- File sharing\n- Online status\n- Message history\n\n---\n\n## üéì Learning Resources\n\n### Official Documentation\n- Node.js: https://nodejs.org/docs\n- Express: https://expressjs.com\n- MongoDB: https://docs.mongodb.com\n\n### Practice\n- Build 5+ REST APIs\n- Implement authentication\n- Create real-time features\n- Deploy to production\n\n---\n\n## üèÜ Congratulations!\n\nYou've completed the Node.js & Express Zero to Hero guide! You now have the skills to:\n\n- ‚úÖ Build scalable backend applications\n- ‚úÖ Create RESTful APIs\n- ‚úÖ Implement authentication & authorization\n- ‚úÖ Work with databases\n- ‚úÖ Deploy to production\n\n**Next Steps:**\n- Build real projects\n- Learn TypeScript with Node.js\n- Explore microservices\n- Study GraphQL\n\nKeep coding! üöÄ\n"}